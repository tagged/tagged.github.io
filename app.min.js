!function e(t,i,n){function o(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var p=i[a]={exports:{}};t[a][0].call(p.exports,function(e){var i=t[a][1][e];return o(i?i:e)},p,p.exports,e,t,i,n)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t){var i=e("react"),n=e("./Menu"),o=e("./Subheader"),r=e("./MaterialIcon"),a=e("./res/index"),s=a.dimension,l=a.icon,c=e("./util/util"),p=i.createClass({displayName:"ActionBar",propTypes:{style:i.PropTypes.object},getInitialState:function(){return{actionsVisible:i.Children.count(this.props.children),isMenuShowing:!1}},getStyle:function(){return{actionBar:{position:"relative",whiteSpace:"nowrap",textAlign:"right"},actionBarInner:{"float":"right"},clear:{clear:"both"},action:{display:"inline-block",verticalAlign:"top"},hiddenAction:{position:"absolute",visibility:"hidden"},overflow:{display:"inline-block",verticalAlign:"top",position:"relative",height:s.touchTarget,width:s.touchTarget,cursor:"pointer"},overflowIcon:{position:"absolute",top:(s.touchTarget-s.icon)/2,left:(s.touchTarget-s.icon)/2},menu:{menu:{position:"absolute",top:s.quantum,right:s.quantum}},menuItem:{whiteSpace:"nowrap",textAlign:"left"},menuItemIcon:{display:"inline-block",verticalAlign:"top"},menuItemText:{display:"inline-block",verticalAlign:"top"}}},render:function(){var e=c.prefix(c.merge(this.getStyle(),this.props.style)),t=i.Children.map(this.props.children,function(t,n){var o=e.action;return n>=this.state.actionsVisible&&(o=c.merge(e.action,e.hiddenAction)),i.createElement("div",{ref:"action"+n,style:o},t)},this),a=null;this.state.actionsVisible<i.Children.count(this.props.children)&&(a=i.createElement("div",{ref:"overflow",onClick:this.showMenu,style:e.overflow},i.createElement(r,{d:l.moreVert,style:e.overflowIcon})));var s=null;if(this.state.isMenuShowing){var p=[];i.Children.forEach(this.props.children,function(t,n){n>=this.state.actionsVisible&&p.push(i.createElement("div",{style:e.menuItem,key:"menuItem"+n},i.createElement("div",{style:e.menuItemIcon},t),i.createElement(o,{text:t.props.action,style:e.menuItemText})))},this),s=i.createElement(n,{onMenuHide:this.hideMenu,style:e.menu},p)}return i.createElement("div",{style:e.actionBar},i.createElement("div",{style:e.actionBarInner},t,a,s),i.createElement("div",{style:e.clear}))},hideMenu:function(){this.state.isMenuShowing&&this.setState({isMenuShowing:!1})},showMenu:function(){this.state.isMenuShowing||this.setState({isMenuShowing:!0})},componentDidMount:function(){var e=this.calculateActionsVisible();e!==this.state.actionsVisible&&this.setState({actionsVisible:e})},componentDidUpdate:function(){var e=this.calculateActionsVisible();e!==this.state.actionsVisible&&this.setState({actionsVisible:e})},calculateActionsVisible:function(){for(var e=c.getDOMNodeComputedStyle(this,"width"),t=this.getStyle().overflow.width,n=i.Children.count(this.props.children),o=0,r=0;n>o;){var a=c.getDOMNodeComputedStyle(this.refs["action"+o],"width");if(r+a+t>e)break;o++,r+=a}return o}});t.exports=p},{"./MaterialIcon":14,"./Menu":15,"./Subheader":20,"./res/index":37,"./util/util":43,react:"react"}],2:[function(e,t){var i=e("react"),n=e("./MaterialIcon"),o=e("./ActionBar"),r=e("./Logo"),a=e("./res/index"),s=a.color,l=a.dimension,c=a.icon,p=a.constant.page,h=a.typography,u=a.value,d=e("./util/util"),g=i.createClass({displayName:"AppBar",propTypes:{page:i.PropTypes.string.isRequired,onNavigate:i.PropTypes.func,onGoHome:i.PropTypes.func},getDefaultProps:function(){return{style:{}}},getIconProps:function(){return{search:{d:c.search,fill:this.props.page===p.SEARCH?s.white:s.black,fillOpacity:this.props.page===p.SEARCH?s.whitePrimaryOpacity:s.blackSecondaryOpacity,onClick:this.props.onNavigate.bind(null,p.SEARCH)},cloud:{d:c.cloud,fill:this.props.page===p.CLOUD?s.white:s.black,fillOpacity:this.props.page===p.CLOUD?s.whitePrimaryOpacity:s.blackSecondaryOpacity,onClick:this.props.onNavigate.bind(null,p.CLOUD)}}},getStyle:function(){return{appBar:{backgroundColor:s.blue500,paddingTop:l.quantum,paddingBottom:l.quantum,paddingRight:l.quantum},logo:{"float":"left",marginLeft:l.marginMobile,marginTop:(l.heightActionBar-l.logoHeight)/2,cursor:"pointer",position:"relative",zIndex:1},logoIcon:{svg:{"float":"left"}},logoText:{"float":"left",fontSize:h.fontSizeLarge,lineHeight:h.lineHeightLarge,fontFamily:h.logoFontFamily,color:s.whitePrimary,marginLeft:l.space}}},render:function(){var e=d.merge(this.getStyle(),this.props.style),t=this.getIconProps();return i.createElement("div",{style:e.appBar},i.createElement("div",{style:e.logo,onClick:this.props.onGoHome},i.createElement(r,{cloudColor:s.whitePrimary,tagColor:s.blue500,style:e.logoIcon}),i.createElement("div",{style:e.logoText},u.appName)),i.createElement(o,null,i.createElement(n,i.__spread({action:"Search"},t.search)),i.createElement(n,i.__spread({action:"Cloud"},t.cloud))))}});t.exports=g},{"./ActionBar":1,"./Logo":13,"./MaterialIcon":14,"./res/index":37,"./util/util":43,react:"react"}],3:[function(e,t){var i=e("react/addons"),n=e("./SVGIcon"),o=e("./res/index"),r=o.animation,a=(o.color,o.icon),s=(e("./util/util"),e("velocity-animate")),l=o.constant.ternary.FALSE,c=o.constant.ternary.INDETERMINATE,p=o.constant.ternary.TRUE,h={points:"5.705,11.295 10,15.585 18.295,7.29",downLength:6.07051,upLength:11.7309,thickness:2},u={points:"5,12 12,12 19,12",totalLength:14},d={points:h.points,fill:"none",strokeWidth:2,strokeLinecap:"butt"},g={points:u.points,fill:"none",strokeWidth:2,strokeLinecap:"butt"},f={x:3,y:3,rx:2,ry:2,height:18,width:18},m=i.createClass({displayName:"Checkbox",propTypes:{checkStatus:i.PropTypes.oneOf([l,c,p]),outlineColor:i.PropTypes.string,outlineOpacity:i.PropTypes.number,boxColor:i.PropTypes.string,boxOpacity:i.PropTypes.number,checkColor:i.PropTypes.string,checkOpacity:i.PropTypes.number,style:i.PropTypes.object},getDefaultProps:function(){return{outlineOpacity:1,boxOpacity:1,checkOpacity:1}},render:function(){var e,t=this.props,o=t.checkStatus,r=t.outlineColor,s=t.outlineOpacity,h=t.boxColor,u=t.boxOpacity,m=t.checkColor,y=t.checkOpacity,v=t.style,b=function(e,t){var i={},n=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)n.call(e,o)&&!n.call(t,o)&&(i[o]=e[o]);return i}(t,{checkStatus:1,outlineColor:1,outlineOpacity:1,boxColor:1,boxOpacity:1,checkColor:1,checkOpacity:1,style:1});if(o===l)e=i.createElement("path",{d:a.checkboxOutline,fill:r,fillOpacity:s});else{var S;o===c?S=i.createElement("polyline",i.__spread({ref:"polyline",stroke:m,strokeOpacity:y},g)):o===p&&(S=i.createElement("polyline",i.__spread({ref:"polyline",stroke:m,strokeOpacity:y},d))),e=i.createElement("g",null,i.createElement("rect",i.__spread({},f,{fill:h,fillOpacity:u})),S)}return i.createElement(n,i.__spread({ref:"svgIcon",style:v},b),e)},componentDidMount:function(){this.animateCheckmark(this.props)},componentDidUpdate:function(e){this.animateCheckmark(e)},animateCheckmark:function(e){if(e.checkStatus!==this.props.checkStatus){var t=i.findDOMNode(this.refs.polyline);s(t,"stop",!0),this.props.checkStatus===c?(s({elements:t,properties:{strokeDasharray:u.totalLength,strokeDashoffset:u.totalLength},options:{duration:0}}),s({elements:t,properties:{strokeDashoffset:0},options:{duration:r.checkline.animation.duration,easing:r.checkline.animation.easing}})):this.props.checkStatus===p&&(s({elements:t,properties:{strokeDasharray:h.downLength+h.upLength,strokeDashoffset:h.downLength+h.upLength},options:{duration:0}}),s({elements:t,properties:{strokeDashoffset:h.upLength-h.thickness/2},options:{duration:r.checkmark.downAnimation.duration,easing:r.checkmark.downAnimation.easing}}),s({elements:t,properties:{strokeDashoffset:0},options:{duration:r.checkmark.upAnimation.duration,easing:r.checkmark.upAnimation.easing}}))}}});t.exports=m},{"./SVGIcon":17,"./res/index":37,"./util/util":43,"react/addons":"react/addons","velocity-animate":"velocity-animate"}],4:[function(e,t){var i=e("react"),n=e("./Path"),o=e("./Folder"),r=e("./CloudFolder"),a=e("./File"),s=e("./FileActionBar"),l=e("./res/index"),c=l.dimension,p=(l.constant.page,l.providers),h=l.shadow,u=e("./util/util"),d=e("immutable"),g=e("./res/FileStore"),f=i.createClass({displayName:"Cloud",propTypes:{accounts:i.PropTypes.object,path:i.PropTypes.array,files:i.PropTypes.array,filesDeleted:i.PropTypes.instanceOf(d.Set),filesSelected:i.PropTypes.instanceOf(d.Set),onPathShorten:i.PropTypes.func,onPathLengthen:i.PropTypes.func,onFileSelect:i.PropTypes.func,onFileSelectAll:i.PropTypes.func,onFileUnselectAll:i.PropTypes.func,onFileDelete:i.PropTypes.func,onFileTag:i.PropTypes.func,onFileOpen:i.PropTypes.func,onFileUpload:i.PropTypes.func,onFileDrop:i.PropTypes.func,onTagClick:i.PropTypes.func},getStyle:function(){return{cloud:{paddingBottom:c.heightActionBar+c.space+c.quantum},path:{path:{marginTop:c.space,paddingLeft:c.marginMobile,paddingRight:c.marginMobile}},fileActionBar:{root:{boxShadow:h.zDepthTop[1]}}}},getFileProps:function(e){var t=e.path.join("/");return{name:e.path[e.path.length-1],path:u.makePath(e.path.slice(0,-1)),modified:e.modified,size:e.size,type:e.type,cloud:e.path[0],link:e.link,tags:d.OrderedSet(e.tags),onTagClick:this.props.onTagClick,isSelected:this.props.filesSelected.includes(t),onFileSelect:this.props.onFileSelect.bind(null,t),onFileOpen:this.props.onFileOpen.bind(null,t),key:t}},render:function(){var e=this.getStyle(),t=g.getContents(this.props.files,this.props.path.slice(1)),l=t.folders;l.sort(),folders=1===this.props.path.length?p.map(function(e){var t,n=this.props.accounts[e.name];return t=null===n?function(){window.open(e.login,"_blank")}:this.props.onPathLengthen.bind(null,e.name),i.createElement(r,{account:n,provider:e.name,login:e.login,onClick:t,key:e.name})},this):l.map(function(e){return i.createElement(o,{name:e,onClick:this.props.onPathLengthen.bind(null,e),key:e})},this);var c,h=t.files.filter(function(e){return!this.props.filesDeleted.includes(e.path.join("/"))},this);c=h.map(function(e){return i.createElement(a,i.__spread({},this.getFileProps(e)))},this);var u=h.map(function(e){return e.path.join("/")}),d=null;return this.props.path.length>1&&(d=i.createElement(s,{numberOfFiles:h.length,numberOfFilesSelected:this.props.filesSelected.size,onSelectAll:this.props.onFileSelectAll.bind(null,u),onUnselectAll:this.props.onFileUnselectAll,onDelete:this.props.onFileDelete.bind(null,this.props.filesSelected),onTag:this.props.onFileTag,canUpload:!0,onFileUpload:this.props.onFileUpload,style:e.fileActionBar})),i.createElement("div",{style:e.cloud,onDrop:this.handleFileDrop,onDragOver:this.handleFileDragOver},i.createElement(n,{path:this.props.path,onPathShorten:this.props.onPathShorten,style:e.path}),folders,c,d)},handleFileDrop:function(e){this.props.onFileDrop(e)},handleFileDragOver:function(e){e.preventDefault();var t=this.props.path.length>1?"copy":"none";e.dataTransfer.dropEffect=t}});t.exports=f},{"./CloudFolder":5,"./File":8,"./FileActionBar":9,"./Folder":11,"./Path":16,"./res/FileStore":29,"./res/index":37,"./util/util":43,immutable:"immutable",react:"react"}],5:[function(e,t){var i=e("react"),n=e("./ImageIcon"),o=e("./MaterialIcon"),r=e("./TextSingle"),a=e("./TextDouble"),s=e("./Menu"),l=e("./res/index"),c=(l.color,l.dimension),p=l.icon,h=l.image,u=(l.providers,l.typography,e("./util/util"),i.createClass({displayName:"CloudFolder",propTypes:{provider:i.PropTypes.string,login:i.PropTypes.string,account:i.PropTypes.string},getInitialState:function(){return{isMenuShowing:!1}},getStyle:function(){return{folder:{position:"relative",paddingLeft:c.quantum,paddingRight:c.quantum},leftIcon:{"float":"left",marginTop:c.quantum,marginRight:c.quantum,cursor:"pointer"},rightIcon:{clearance:{"float":"right",marginTop:c.quantum}},folderNameWrapper:{overflow:"hidden"},folderName:{root:{"float":"left",cursor:"pointer"}},menu:{menu:{position:"absolute",top:-c.space,right:c.marginMobile,zIndex:2},item:{paddingLeft:c.marginMobile,paddingRight:c.marginMobile},invisible:{zIndex:1}}}},openMenu:function(e){e.stopPropagation(),this.setState({isMenuShowing:!0})},closeMenu:function(e){e.stopPropagation(),this.setState({isMenuShowing:!1})},render:function(){var e=this.getStyle(),t=null;this.state.isMenuShowing&&(t=i.createElement(s,{style:e.menu,onMenuHide:this.closeMenu,onClick:this.stopPropagation,onMouseDown:this.stopPropagation},i.createElement(r,{text:"Go to "+this.props.provider,onClick:this.handleGoToProvider}),i.createElement(r,{text:"Sign out",onClick:this.handleSignOut})));var l=null;return null!==this.props.account&&(l=i.createElement(o,{d:p.moreVert,onClick:this.openMenu,style:e.rightIcon})),i.createElement("div",{style:e.folder},i.createElement(n,i.__spread({},h[this.props.provider],{onClick:this.props.onClick,style:e.leftIcon})),l,i.createElement("div",{style:e.folderNameWrapper},i.createElement(a,{text:[this.props.provider,this.props.account||"Sign in"],onClick:this.props.onClick,style:e.folderName})),t)},stopPropagation:function(e){e.stopPropagation()},handleSignOut:function(e){e.stopPropagation()},handleGoToProvider:function(e){this.closeMenu(e),window.open(this.props.login,"_blank")}}));t.exports=u},{"./ImageIcon":12,"./MaterialIcon":14,"./Menu":15,"./TextDouble":26,"./TextSingle":27,"./res/index":37,"./util/util":43,react:"react"}],6:[function(e,t){var i=e("react/addons"),n=e("./res/index"),o=(n.dimension,e("./util/util")),r=i.createClass({displayName:"Collapsible",propTypes:{isOpen:i.PropTypes.bool,onToggle:i.PropTypes.func,style:i.PropTypes.object},getDefaultProps:function(){return{style:{}}},getStyle:function(){return{component:{overflow:"hidden"},controller:{cursor:"pointer"}}},render:function(){var e=o.merge(this.getStyle(),this.props.style),t=i.Children.map(this.props.children,function(t){return t.props.isController?i.createElement("div",{style:e.controller,onClick:this.props.onToggle},t):this.props.isOpen?i.createElement("div",null,t):null}.bind(this));return i.createElement("div",{style:e.component},t)}});t.exports=r},{"./res/index":37,"./util/util":43,"react/addons":"react/addons"}],7:[function(e,t){var i=e("react/addons"),n=e("./res/index"),o=n.animation,r=n.dimension,a=n.icon,s=e("./util/util"),l=e("velocity-animate"),c=i.createClass({displayName:"ExpandCollapse",propTypes:{isExpanded:i.PropTypes.bool,style:i.PropTypes.object},getDefaultProps:function(){return{style:{}}},componentDidMount:function(){this.props.isExpanded&&this.rotateIcon()},componentDidUpdate:function(e){e.isExpanded!==this.props.isExpanded&&this.rotateIcon()},rotateIcon:function(){var e=i.findDOMNode(this.refs.svg);l(e,"stop",!0),l({elements:e,properties:{rotateZ:this.props.isExpanded?"180deg":"0deg"},options:o.expandCollapse.rotate})},getStyle:function(){return{svg:{display:"inline-block",verticalAlign:"top",height:r.icon,width:r.icon,cursor:"pointer",pointerEvents:"none"}}},render:function(){var e=this.props,t=(e.isExpanded,e.style),n=function(e,t){var i={},n=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)n.call(e,o)&&!n.call(t,o)&&(i[o]=e[o]);return i}(e,{isExpanded:1,style:1}),t=s.merge(this.getStyle(),t);return i.createElement("svg",i.__spread({ref:"svg",style:t.svg,viewBox:"0 0 "+r.icon+" "+r.icon},n),i.createElement("path",{d:a.expand}))}});t.exports=c},{"./res/index":37,"./util/util":43,"react/addons":"react/addons","velocity-animate":"velocity-animate"}],8:[function(e,t){var i=e("react/addons"),n=e("./Checkbox"),o=(e("./Collapsible"),e("./Tags")),r=e("./ImageIcon"),a=e("./res/index"),s=a.color,l=a.dimension,c=a.image,p=a.typography,h=e("./util/util"),u=e("immutable"),d=a.constant.ternary.TRUE,g=a.constant.ternary.FALSE,f=i.createClass({displayName:"File",contextTypes:{preventMouseDown:i.PropTypes.func},propTypes:{name:i.PropTypes.string,path:i.PropTypes.string,modified:i.PropTypes.string,size:i.PropTypes.string,type:i.PropTypes.string,cloud:i.PropTypes.string,link:i.PropTypes.string,tags:i.PropTypes.instanceOf(u.OrderedSet),specialTags:i.PropTypes.instanceOf(u.Set),onTagClick:i.PropTypes.func,onSpecialTagClick:i.PropTypes.func,isSelected:i.PropTypes.bool,onFileSelect:i.PropTypes.func,onFileOpen:i.PropTypes.func},getStyle:function(){return{component:{position:"relative",overflow:"hidden",height:"auto",padding:l.quantum},checkbox:{clearance:{"float":"left"}},fileInfo:{marginRight:l.touchTarget+l.quantum,paddingLeft:l.quantum,overflow:"hidden"},filename:{"float":"left",paddingTop:l.space+l.quantum+2,lineHeight:p.lineHeight,fontSize:p.fontSize,fontWeight:p.fontWeightRegular,whiteSpace:"normal",cursor:"pointer"},tags:{tags:{clear:"both",paddingTop:l.space}},fileLink:{display:"block",position:"absolute",top:l.quantum,right:l.quantum}}},render:function(){{var e=h.prefix(this.getStyle()),t=i.createElement("div",{style:e.filename,onClick:this.props.onFileOpen,onMouseDown:this.context.preventMouseDown},this.props.name),a=1!==this.props.tags.size;i.createElement("div",{style:e.metadata},this.props.tags.size+(a?" tags":" tag"))}return i.createElement("div",{style:e.component},i.createElement(n,{checkStatus:this.props.isSelected?d:g,outlineColor:s.black,outlineOpacity:s.blackSecondaryOpacity,boxColor:s.blue500,checkColor:s.whitePrimary,style:e.checkbox,onClick:this.props.onFileSelect,onMouseDown:this.context.preventMouseDown}),i.createElement("div",{style:e.fileInfo},t,i.createElement(o,{tags:this.props.tags.sort(),specialTags:this.props.specialTags,onTagClick:this.props.onTagClick,onSpecialTagClick:this.props.onSpecialTagClick,style:e.tags})),i.createElement("a",{href:this.props.link,target:"_blank",tabIndex:"1",onMouseDown:this.context.preventMouseDown,style:e.fileLink},i.createElement(r,i.__spread({},c[this.props.cloud]))))}});t.exports=f},{"./Checkbox":3,"./Collapsible":6,"./ImageIcon":12,"./Tags":25,"./res/index":37,"./util/util":43,immutable:"immutable","react/addons":"react/addons"}],9:[function(e,t){var i=e("react"),n=e("./ActionBar"),o=e("./Subheader"),r=e("./Checkbox"),a=e("./MaterialIcon"),s=e("./res/index"),l=s.color,c=s.dimension,p=s.icon,h=e("./util/util"),u=s.constant.ternary.FALSE,d=s.constant.ternary.INDETERMINATE,g=s.constant.ternary.TRUE,f=i.createClass({displayName:"FileActionBar",propTypes:{numberOfFiles:i.PropTypes.number,numberOfFilesSelected:i.PropTypes.number,onSelectAll:i.PropTypes.func,onUnselectAll:i.PropTypes.func,onDelete:i.PropTypes.func,canUpload:i.PropTypes.bool,onFileUpload:i.PropTypes.func,style:i.PropTypes.object},getDefaultProps:function(){return{style:{}}},getStyle:function(e){return{root:{position:"fixed",bottom:0,left:0,right:0,zIndex:2,backgroundColor:l.blue500,paddingLeft:c.quantum,paddingRight:c.quantum},checkbox:{clearance:{"float":"left",marginRight:c.quantum,zIndex:3}},subheader:{"float":"left",color:e===u?l.blackSecondary:l.whitePrimary},actionBar:{actionBar:{},menu:{bottom:c.quantum,top:"auto"}},upload:{color:l.whitePrimary,cursor:"pointer",paddingLeft:c.marginMobile,paddingRight:c.marginMobile},fileInput:{display:"none"}}},render:function(){var e;e=0===this.props.numberOfFilesSelected?u:this.props.numberOfFilesSelected===this.props.numberOfFiles?g:d;var t,s,c=h.prefix(h.merge(this.getStyle(e),this.props.style));if(e===u)var t=this.props.numberOfFiles,s="";else var t=this.props.numberOfFilesSelected,s=" selected";var f=1!==t,m=t+" file"+(f?"s":"")+s,y=null;return this.props.numberOfFilesSelected>0?y=i.createElement(n,{style:c.actionBar},i.createElement(a,{action:"Tag",d:p.tag,fill:l.white,fillOpacity:l.whitePrimaryOpacity,onClick:this.props.onTag}),i.createElement(a,{action:"Delete",d:p.trash,fill:l.white,fillOpacity:l.whitePrimaryOpacity,onClick:this.props.onDelete})):this.props.canUpload&&(y=i.createElement(n,{style:c.actionBar},i.createElement("input",{ref:"fileInput",type:"file",multiple:!0,onChange:this.handleFileInputChange,style:c.fileInput}),i.createElement(o,{action:"Upload",text:"UPLOAD",style:c.upload,onClick:this.handleUploadClick}))),i.createElement("div",{style:c.root},i.createElement(r,{checkStatus:e,outlineColor:l.black,outlineOpacity:l.blackSecondaryOpacity,boxColor:l.white,checkColor:l.blue500,style:c.checkbox,onClick:this.handleCheckboxClick.bind(this,e)}),i.createElement(o,{text:m,style:c.subheader}),y)},handleCheckboxClick:function(e){e===u?this.props.onSelectAll():this.props.onUnselectAll()},handleUploadClick:function(){var e=i.findDOMNode(this.refs.fileInput);e.click()},handleFileInputChange:function(e){this.props.onFileUpload(e);var t=i.findDOMNode(this.refs.fileInput);t.value=""}});t.exports=f},{"./ActionBar":1,"./Checkbox":3,"./MaterialIcon":14,"./Subheader":20,"./res/index":37,"./util/util":43,react:"react"}],10:[function(e,t){var i=e("react"),n=e("./Tags"),o=e("./Subheader"),r=e("./TagActionBar"),a=e("./ImageIcon"),s=e("./res/index"),l=s.color,c=s.dimension,p=s.image,h=s.typography,u=e("./util/util"),d=e("immutable"),g=e("./res/FileStore"),f=i.createClass({displayName:"Fileview",propTypes:{files:i.PropTypes.array,file:i.PropTypes.string,onClose:i.PropTypes.func,value:i.PropTypes.string,onValueChange:i.PropTypes.func,onFocus:i.PropTypes.func,tagsAttached:i.PropTypes.instanceOf(d.Set),tagsDetached:i.PropTypes.instanceOf(d.Set),tagsSelected:i.PropTypes.instanceOf(d.Set),onTagAttach:i.PropTypes.func,onTagDetach:i.PropTypes.func,onTagSelect:i.PropTypes.func},getStyle:function(){return{fileview:{paddingBottom:c.heightActionBar+c.space+c.quantum},header:{backgroundColor:l.blue500,color:l.whitePrimary,overflow:"hidden"},close:{"float":"right",color:l.whitePrimary,fontSize:h.fontSizeSmall,lineHeight:h.lineHeightSmall,fontWeight:h.fontWeightMedium,padding:(c.touchTarget-h.lineHeightPx)/2,cursor:"pointer",marginTop:c.quantum},fileName:{fontSize:h.fontSizeLarge,lineHeight:h.lineHeightLarge,fontWeight:h.fontWeightMedium,paddingLeft:c.marginMobile,paddingTop:c.marginMobile,paddingBottom:c.marginMobile},metadata:{lineHeight:h.lineHeight,paddingTop:c.quantum},body:{position:"relative",paddingLeft:c.marginMobile,paddingRight:c.marginMobile,paddingTop:c.space},tags:{tags:{paddingTop:c.space}},fileLink:{"float":"right",marginTop:c.quantum,marginRight:c.quantum,position:"relative",zIndex:1}}},render:function(){var e=this.getStyle(),t=g.getFile(this.props.files,this.props.file.split("/")),s=t.path[t.path.length-1],l=u.makePath(t.path),c=t.modified,h=t.size,f=t.type,m=t.link,y=t.path[0],v=d.Set(t.tags).union(this.props.tagsAttached).subtract(this.props.tagsDetached).sort(),b=v.size+(1!==v.size?" tags":" tag"),S=null;if(""!==this.props.value){var T,w=g.getFiles(this.props.files),x=g.getTags(w),k=x.filter(function(e){return 0===e.indexOf(this.props.value)},this).subtract(v).sort();T=k.size>0?'"'+this.props.value+'" tags':v.includes(this.props.value)?'This file already has tag "'+this.props.value+'"':'Create new tag "'+this.props.value+'"',S=i.createElement("div",null,i.createElement(o,{text:T}),i.createElement(n,{tags:k,onTagClick:this.props.onTagAttach}))}var P=null;return this.props.tagsSelected.size>0&&(P=i.createElement(r,{numberOfTagsSelected:this.props.tagsSelected.size,onUntag:this.props.onTagDetach.bind(null,this.props.tagsSelected)})),i.createElement("div",{style:e.fileview},i.createElement("div",{style:e.header},i.createElement("div",{style:e.close,onClick:this.props.onClose},"DONE"),i.createElement("div",{style:e.fileName},s)),i.createElement("a",{href:m,target:"_blank",tabIndex:"1",style:e.fileLink},i.createElement(a,i.__spread({},p[y]))),i.createElement("div",{style:e.body},i.createElement("div",{style:e.metadata},l),i.createElement("div",{style:e.metadata},"Modified "+c),i.createElement("div",{style:e.metadata},h),i.createElement("div",{style:e.metadata},f),i.createElement("div",{style:e.metadata},b),i.createElement(n,{ref:"tags",tags:v,onTagClick:this.props.onTagSelect,specialTags:this.props.tagsSelected,onSpecialTagClick:this.props.onTagSelect,withInput:!0,value:this.props.value,onValueChange:this.props.onValueChange,placeholder:"Add tag",onSubmit:this.props.onTagAttach,onFocus:this.props.onFocus,style:e.tags}),S),P)}});t.exports=f},{"./ImageIcon":12,"./Subheader":20,"./TagActionBar":22,"./Tags":25,"./res/FileStore":29,"./res/index":37,"./util/util":43,immutable:"immutable",react:"react"}],11:[function(e,t){var i=e("react"),n=e("./MaterialIcon"),o=e("./TextSingle"),r=e("./res/index"),a=(r.color,r.dimension),s=r.icon,l=(r.typography,e("./util/util"),i.createClass({displayName:"Folder",propTypes:{name:i.PropTypes.string},getStyle:function(){return{folder:{paddingLeft:a.quantum,paddingRight:a.quantum},leftIcon:{clearance:{"float":"left",marginRight:a.quantum}},rightIcon:{clearance:{"float":"right"}},folderNameWrapper:{overflow:"hidden"},folderName:{root:{"float":"left",cursor:"pointer",whiteSpace:"normal"}}}},openMenu:function(e){e.stopPropagation()},render:function(){var e=this.getStyle(),t=null;return i.createElement("div",{style:e.folder},i.createElement(n,{d:s.folder,onClick:this.props.onClick,style:e.leftIcon}),t,i.createElement("div",{style:e.folderNameWrapper},i.createElement(o,{text:this.props.name,onClick:this.props.onClick,style:e.folderName})))}}));t.exports=l},{"./MaterialIcon":14,"./TextSingle":27,"./res/index":37,"./util/util":43,react:"react"}],12:[function(e,t){var i=e("react/addons"),n=e("./util/util"),o=e("./res/index"),r=o.dimension,a=i.createClass({displayName:"ImageIcon",propTypes:{style:i.PropTypes.object},getDefaultProps:function(){return{style:{}}},getStyle:function(){return{display:"block",height:r.touchTarget,width:r.touchTarget}},render:function(){var e=this.props,t=e.style,o=function(e,t){var i={},n=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)n.call(e,o)&&!n.call(t,o)&&(i[o]=e[o]);return i}(e,{style:1});return t=n.merge(this.getStyle(),t),i.createElement("img",i.__spread({},o,{style:t}))}});t.exports=a},{"./res/index":37,"./util/util":43,"react/addons":"react/addons"}],13:[function(e,t){var i=e("react"),n=e("./res/index"),o=n.dimension,r=n.icon,a=e("./util/util"),s=i.createClass({displayName:"Logo",propTypes:{cloudColor:i.PropTypes.string,tagColor:i.PropTypes.string,style:i.PropTypes.object},getDefaultProps:function(){return{style:{}}},getStyle:function(){return{svg:{display:"block",width:o.logoWidth,height:o.logoHeight}}},render:function(){var e=this.props,t=e.style,t=(function(e,t){var i={},n=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)n.call(e,o)&&!n.call(t,o)&&(i[o]=e[o]);return i}(e,{style:1}),a.merge(this.getStyle(),t));return i.createElement("svg",{ref:"svg",style:t.svg,viewBox:"0 0 "+o.logoWidth+" "+o.logoHeight},i.createElement("path",{d:r.logoCloud,fill:this.props.cloudColor}),i.createElement("path",{d:r.logoTag,fill:this.props.tagColor}))}});t.exports=s},{"./res/index":37,"./util/util":43,react:"react"}],14:[function(e,t){var i=e("react"),n=e("./SVGIcon"),o=e("./res/index"),r=o.color,a=(e("./util/util"),i.createClass({displayName:"MaterialIcon",propTypes:{d:i.PropTypes.string.isRequired,fill:i.PropTypes.string,fillOpacity:i.PropTypes.number,onClick:i.PropTypes.func,style:i.PropTypes.object},getDefaultProps:function(){return{fill:r.black,fillOpacity:r.blackSecondaryOpacity}},render:function(){return i.createElement(n,{style:this.props.style,onClick:this.props.onClick},i.createElement("path",{ref:"iconPath",d:this.props.d,fill:this.props.fill,fillOpacity:this.props.fillOpacity}))}}));t.exports=a},{"./SVGIcon":17,"./res/index":37,"./util/util":43,react:"react"}],15:[function(e,t){var i=e("react"),n=e("./res/index"),o=n.color,r=n.dimension,a=n.shadow,s=e("./util/util"),l=i.createClass({displayName:"Menu",propTypes:{onMenuHide:i.PropTypes.func,hoverColor:i.PropTypes.string,style:i.PropTypes.object},getDefaultProps:function(){return{hoverColor:o.blackDivider}},getStyle:function(){return{menu:{position:"relative",zIndex:99,paddingTop:r.space,paddingBottom:r.space,borderRadius:r.borderRadius,backgroundColor:o.white,boxShadow:a.zDepth[1]},item:{cursor:"pointer"},invisible:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:98}}},render:function(){var e=this.props,t=e.onMenuHide,n=(e.hoverColor,e.style),o=function(e,t){var i={},n=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)n.call(e,o)&&!n.call(t,o)&&(i[o]=e[o]);return i}(e,{onMenuHide:1,hoverColor:1,style:1});n=s.merge(this.getStyle(),n);var r=i.Children.map(this.props.children,function(e,t){return i.createElement("div",{ref:"child"+t,onMouseEnter:this.handleMouseEnter.bind(this,t),onMouseLeave:this.handleMouseLeave.bind(this,t),style:n.item},e)},this);return i.createElement("div",null,i.createElement("div",{style:n.invisible,onMouseDown:t}),i.createElement("div",i.__spread({style:n.menu},o),r))},handleMouseEnter:function(e){i.findDOMNode(this.refs["child"+e]).style.backgroundColor=this.props.hoverColor},handleMouseLeave:function(e){i.findDOMNode(this.refs["child"+e]).style.backgroundColor="transparent"}});t.exports=l},{"./res/index":37,"./util/util":43,react:"react"}],16:[function(e,t){var i=e("react/addons"),n=e("./res/index"),o=n.color,r=n.dimension,a=n.icon,s=n.typography,l=e("./util/util"),c=i.createClass({displayName:"Path",propTypes:{path:i.PropTypes.array,onPathShorten:i.PropTypes.func,style:i.PropTypes.object},getDefaultProps:function(){return{style:{}}},getStyle:function(){var e=(r.heightSubheader-r.icon)/2;return{path:{paddingTop:e,paddingBottom:e},directory:{display:"inline-block",verticalAlign:"top",paddingTop:(r.icon-s.lineHeight*s.fontSize)/2,paddingBottom:(r.icon-s.lineHeight*s.fontSize)/2,cursor:"pointer",color:o.blackSecondary,fontSize:s.fontSize,fontWeight:s.fontWeightMedium,lineHeight:s.lineHeight},lastDirectory:{cursor:"auto",color:o.blue500},separator:{display:"inline-block",verticalAlign:"top",height:r.icon,width:r.icon,fill:o.black,fillOpacity:o.blackSecondaryOpacity}}},render:function(){var e=l.merge(this.getStyle(),this.props.style),t=i.createElement("svg",{viewBox:"0 0 "+r.icon+" "+r.icon,style:e.separator},i.createElement("path",{d:a.chevronRight})),n=this.props.path.map(function(n,o){var r=o===this.props.path.length-1;return r?i.createElement("span",{key:o},i.createElement("span",{style:l.merge(e.directory,e.lastDirectory)},n)):i.createElement("span",{key:o},i.createElement("span",{style:e.directory,onClick:this.props.onPathShorten.bind(null,o)},n),t)},this);return i.createElement("div",{style:e.path},n)}});t.exports=c},{"./res/index":37,"./util/util":43,"react/addons":"react/addons"}],17:[function(e,t){var i=e("react"),n=e("./res/index"),o=n.dimension,r=e("./util/util"),a=i.createClass({displayName:"SVGIcon",propTypes:{style:i.PropTypes.object},getDefaultProps:function(){return{style:{}}},getStyle:function(){return{clearance:{position:"relative",height:o.touchTarget,width:o.touchTarget,cursor:"pointer"},svg:{display:"inline-block",position:"absolute",top:(o.touchTarget-o.icon)/2,left:(o.touchTarget-o.icon)/2,height:o.icon,width:o.icon,userSelect:"none",pointerEvents:"none"}}},render:function(){var e=this.props,t=e.style,n=function(e,t){var i={},n=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)n.call(e,o)&&!n.call(t,o)&&(i[o]=e[o]);return i}(e,{style:1}),t=r.merge(this.getStyle(),t);return i.createElement("div",i.__spread({style:t.clearance},n),i.createElement("svg",{ref:"svg",style:t.svg,viewBox:"0 0 "+o.icon+" "+o.icon},this.props.children))}});t.exports=a},{"./res/index":37,"./util/util":43,react:"react"}],18:[function(e,t){var i=e("react"),n=e("./Tags"),o=e("./Subheader"),r=e("./File"),a=e("./FileActionBar"),s=e("./res/index"),l=s.color,c=s.dimension,p=(s.constant.page,s.shadow),h=e("./util/util"),u=e("immutable"),d=e("./res/FileStore"),g=i.createClass({displayName:"Search",propTypes:{searchTags:i.PropTypes.instanceOf(u.Set),searchValue:i.PropTypes.string,files:i.PropTypes.array,filesDeleted:i.PropTypes.instanceOf(u.Set),filesSelected:i.PropTypes.instanceOf(u.Set),suggestionsVisible:i.PropTypes.bool,onSearchTagAdd:i.PropTypes.func,onSearchTagDelete:i.PropTypes.func,onSearchFocus:i.PropTypes.func,onSearchValueChange:i.PropTypes.func,onFileSelect:i.PropTypes.func,onFileSelectAll:i.PropTypes.func,onFileUnselectAll:i.PropTypes.func,onFileDelete:i.PropTypes.func,onFileTag:i.PropTypes.func,onFileOpen:i.PropTypes.func},getStyle:function(){return{search:{paddingBottom:c.heightActionBar+c.space+c.quantum},header:{paddingTop:3*c.space,paddingBottom:c.space,paddingLeft:c.marginMobile,paddingRight:c.marginMobile},suggestions:{tags:{paddingTop:c.space}},fileActionBar:{root:{boxShadow:p.zDepthTop[1]}},searchTags:{tag:{tag:{backgroundColor:l.blue500,color:l.whitePrimary,outlineColor:l.blue900}}}}
},getFileProps:function(e){var t=e.path.join("/");return{name:e.path[e.path.length-1],path:h.makePath(e.path.slice(0,-1)),modified:e.modified,size:e.size,type:e.type,cloud:e.path[0],link:e.link,tags:u.OrderedSet(e.tags),specialTags:this.props.searchTags,onTagClick:this.props.onSearchTagAdd,onSpecialTagClick:this.props.onSearchTagDelete,isSelected:this.props.filesSelected.includes(t),onFileSelect:this.props.onFileSelect.bind(null,t),onFileOpen:this.props.onFileOpen.bind(null,t),key:t}},render:function(){var e=this.getStyle(),t=this.props.searchTags,s=this.props.searchValue,l=d.getFiles(this.props.files),c=d.getTags(l),p=d.filterFiles(l,t);p=p.filter(function(e){return!this.props.filesDeleted.includes(e.path.join("/"))},this),p.sort(d.sortFilesByName);var h=p.map(function(e){return i.createElement(r,i.__spread({},this.getFileProps(e)))},this),u=p.map(function(e){return e.path.join("/")}),g=null;t.isEmpty()||(g=i.createElement(a,{numberOfFiles:p.length,numberOfFilesSelected:this.props.filesSelected.size,onSelectAll:this.props.onFileSelectAll.bind(null,u),onUnselectAll:this.props.onFileUnselectAll,onDelete:this.props.onFileDelete.bind(null,this.props.filesSelected),onTag:this.props.onFileTag,style:e.fileActionBar}));var f=null;if(this.props.suggestionsVisible){var m;m=t.isEmpty()?""===s?c.sort():c.filter(function(e){return 0===e.indexOf(s)}).sort():d.getTagsStartingWith(p,s).subtract(t).sort();var y,v=m.size>0;y=""===s?t.isEmpty()?v?"All "+m.size+" tags":"No tags exist yet":v?"Refine search":"No tags to refine search":t.isEmpty()?v?'"'+s+'" tags':'No "'+s+'" tags':v?'"'+s+'" tags to refine search':'No "'+s+'" tags to refine search',f=i.createElement("div",null,i.createElement(o,{text:y}),i.createElement(n,{tags:m,onTagClick:this.props.onSearchTagAdd,style:e.suggestions}))}var b=t.isEmpty()?"Search files by tag":"Refine search";return i.createElement("div",{style:e.search},i.createElement("div",{style:e.header},i.createElement(n,{ref:"searchTags",tags:t,onTagClick:this.props.onSearchTagDelete,style:e.searchTags,withInput:!0,value:s,onValueChange:this.props.onSearchValueChange,placeholder:b,onSubmit:this.props.onSearchTagAdd,onFocus:this.props.onSearchFocus}),f),h,g)}});t.exports=g},{"./File":8,"./FileActionBar":9,"./Subheader":20,"./Tags":25,"./res/FileStore":29,"./res/index":37,"./util/util":43,immutable:"immutable",react:"react"}],19:[function(e,t){var i=e("react/addons"),n=e("./res/index"),o=n.animation,r=n.color,a=n.dimension,s=n.typography,l=e("./util/util"),c=e("velocity-animate"),p=i.createClass({displayName:"Snackbar",propTypes:{message:i.PropTypes.string,action:i.PropTypes.string,onCancel:i.PropTypes.func,style:i.PropTypes.object},getDefaultProps:function(){return{message:"",action:"",style:{}}},getStyle:function(){return{snackbar:{display:"table",width:"100%",position:"fixed",bottom:0,backgroundColor:"#323232",fontSize:s.fontSizeSmall,lineHeight:s.lineHeightSmall,minWidth:a.snackbar.minWidth,zIndex:4},message:{display:"table-cell",color:r.whitePrimary,fontWeight:s.fontWeightRegular,paddingTop:a.snackbar.paddingVertical,paddingBottom:a.snackbar.paddingVertical,paddingLeft:a.snackbar.paddingHorizontal,paddingRight:0,wordWrap:"break-word",wordBreak:"break-all"},action:{display:"table-cell",verticalAlign:"middle",width:1,paddingLeft:a.snackbar.paddingHorizontal,paddingRight:a.snackbar.paddingHorizontal,color:r.blue500,fontWeight:s.fontWeightMedium,cursor:"pointer",userSelect:"none"}}},render:function(){var e=l.prefix(l.merge(this.getStyle(),this.props.style));return i.createElement("div",{style:e.snackbar},i.createElement("div",{style:e.message,ref:"message"},this.props.message),i.createElement("div",{style:e.action,ref:"action",onClick:this.props.onCancel},this.props.action))},componentWillEnter:function(e){var t=i.findDOMNode(this),n=i.findDOMNode(this.refs.message),r=i.findDOMNode(this.refs.action),a=l.getDOMNodeComputedStyle(this,"height");c({elements:t,properties:{bottom:-a},options:{duration:0}}),c({elements:[n,r],properties:{opacity:0},options:{duration:0}}),c({elements:t,properties:{bottom:0},options:{duration:o.snackbar.enter.duration,easing:o.snackbar.enter.easing}}),c({elements:[n,r],properties:{opacity:1},options:{delay:o.snackbar.enter.textDelay,duration:o.snackbar.enter.textDuration,easing:o.snackbar.enter.easing,queue:!1,complete:e}})},componentWillLeave:function(e){var t=i.findDOMNode(this),n=i.findDOMNode(this.refs.message),r=i.findDOMNode(this.refs.action),a=l.getDOMNodeComputedStyle(this,"height");c({elements:[n,r],properties:{opacity:0},options:{duration:o.snackbar.leave.duration}}),c({elements:t,properties:{bottom:-a},options:{duration:o.snackbar.leave.duration,easing:o.snackbar.leave.easing,queue:!1,complete:e}})}});t.exports=p},{"./res/index":37,"./util/util":43,"react/addons":"react/addons","velocity-animate":"velocity-animate"}],20:[function(e,t){var i=e("react/addons"),n=e("./res/index"),o=n.color,r=n.dimension,a=n.typography,s=e("./util/util"),l=i.createClass({displayName:"Subheader",propTypes:{text:i.PropTypes.string,style:i.PropTypes.object},getDefaultProps:function(){return{text:"",style:{}}},getStyle:function(){var e=(r.heightSubheader-a.lineHeightSmall*a.fontSizeSmall)/2;return{component:{color:o.blackSecondary,fontWeight:a.fontWeightMedium,fontSize:a.fontSizeSmall,lineHeight:a.lineHeightSmall,paddingTop:e,paddingBottom:e,wordWrap:"break-word"}}},render:function(){var e=this.props,t=(e.text,e.style),n=function(e,t){var i={},n=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)n.call(e,o)&&!n.call(t,o)&&(i[o]=e[o]);return i}(e,{text:1,style:1}),o=this.props.text.replace(/ /g,String.fromCharCode(160));return i.createElement("div",i.__spread({style:s.merge(this.getStyle().component,t)},n),o)}});t.exports=l},{"./res/index":37,"./util/util":43,"react/addons":"react/addons"}],21:[function(e,t){var i=e("react/addons"),n=e("./res/index"),o=n.color,r=n.dimension,a=n.typography,s=e("./util/util"),l=i.createClass({displayName:"Tag",propTypes:{text:i.PropTypes.string,style:i.PropTypes.object},getDefaultProps:function(){return{text:"",style:{},tabIndex:1}},getStyle:function(){var e=(r.heightTag-a.lineHeight*a.fontSize)/2;return{tag:{display:"inline-block",verticalAlign:"top",fontSize:a.fontSize,lineHeight:a.lineHeight,paddingTop:e,paddingBottom:e,paddingLeft:r.space,paddingRight:r.space,marginRight:r.space,marginBottom:r.space,borderRadius:r.borderRadius,backgroundColor:o.blackDivider,outlineColor:o.blackHint,cursor:"pointer",minHeight:r.heightTag-2*e,wordBreak:"break-all"}}},render:function(){var e=this.props,t=(e.text,e.style),n=function(e,t){var i={},n=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)n.call(e,o)&&!n.call(t,o)&&(i[o]=e[o]);return i}(e,{text:1,style:1}),o=this.props.text.replace(/ /g,String.fromCharCode(160)),t=s.merge(this.getStyle(),this.props.style);return i.createElement("div",i.__spread({style:t.tag},n),o)}});t.exports=l},{"./res/index":37,"./util/util":43,"react/addons":"react/addons"}],22:[function(e,t){var i=e("react"),n=e("./Subheader"),o=e("./res/index"),r=o.color,a=o.dimension,s=e("./util/util"),l=i.createClass({displayName:"TagActionBar",propTypes:{numberOfTagsSelected:i.PropTypes.number,onUntag:i.PropTypes.func,style:i.PropTypes.object},getDefaultProps:function(){return{style:{}}},getStyle:function(){return{root:{position:"fixed",bottom:0,left:0,right:0,zIndex:2,backgroundColor:r.blue500},subheader:{"float":"left",color:r.whitePrimary,paddingLeft:a.marginMobile,paddingRight:a.marginMobile},untag:{"float":"right",color:r.whitePrimary,cursor:"pointer",paddingLeft:a.marginMobile,paddingRight:a.marginMobile}}},render:function(){var e=s.merge(this.getStyle(),this.props.style),t=this.props.numberOfTagsSelected,o=t+" tag"+(1!==t?"s":"")+" selected";return i.createElement("div",{style:e.root},i.createElement(n,{text:o,style:e.subheader}),i.createElement(n,{text:"UNTAG",style:e.untag,onClick:this.props.onUntag}))}});t.exports=l},{"./Subheader":20,"./res/index":37,"./util/util":43,react:"react"}],23:[function(e,t){var i=e("react/addons"),n=e("./res/index"),o=n.color,r=n.dimension,a=n.typography,s=e("./util/util"),l=i.createClass({displayName:"TagInput",propTypes:{value:i.PropTypes.string,style:i.PropTypes.object},getDefaultProps:function(){return{value:"",style:{},placeholder:"",tabIndex:1}},contextTypes:{width:i.PropTypes.number.isRequired},getStyle:function(){var e=(r.heightTag-a.lineHeight*a.fontSize)/2;return{component:{display:"inline-block",position:"relative",marginRight:r.space,marginBottom:r.space,fontSize:a.fontSize,fontWeight:a.fontWeightRegular},input:{display:"inline-block",margin:0,borderWidth:r.borderWidth,borderStyle:"solid",borderColor:o.blackSecondary,borderRadius:r.borderRadius,paddingLeft:r.space,paddingRight:r.space,font:"inherit",lineHeight:a.lineHeight,paddingTop:e-r.borderWidth,paddingBottom:e-r.borderWidth,color:o.blackPrimary,minWidth:1},regulator:{position:"absolute",visibility:"hidden",whiteSpace:"nowrap",overflow:"hidden",maxWidth:this.context.width-2*r.space-2*r.borderWidth-2*r.marginMobile}}},render:function(){var e=this.props,t=e.value,n=e.style,o=function(e,t){var i={},n=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)n.call(e,o)&&!n.call(t,o)&&(i[o]=e[o]);return i}(e,{value:1,style:1}),r=t.replace(/ /g,String.fromCharCode(160)),n=s.merge(this.getStyle(),n);return i.createElement("div",{style:n.component},i.createElement("input",i.__spread({ref:"input",type:"text",value:r,style:n.input},o)),i.createElement("div",{ref:"regulator",style:n.regulator},r),i.createElement("div",{ref:"placeholder",style:n.regulator},this.props.placeholder))},focus:function(){i.findDOMNode(this.refs.input).focus()},getValue:function(){var e=new RegExp(String.fromCharCode(160),"g"),t=i.findDOMNode(this.refs.input);return t.value.replace(e," ")},componentDidMount:function(){this.regulateInputWidth()},componentDidUpdate:function(){this.regulateInputWidth()},regulateInputWidth:function(){var e,t=this.refs.input.getDOMNode();e=""===this.props.value?this.refs.placeholder:this.refs.regulator,t.style.width=s.getDOMNodeComputedStyle(e,"width")+"px"}});t.exports=l},{"./res/index":37,"./util/util":43,"react/addons":"react/addons"}],24:[function(e,t){var i=e("react"),n=e("./Collapsible"),o=e("./ExpandCollapse"),r=e("./Tags"),a=e("./Subheader"),s=e("./TagActionBar"),l=e("./res/index"),c=l.color,p=l.dimension,h=l.typography,u=e("./util/util"),d=e("immutable"),g=e("./res/FileStore"),f=i.createClass({displayName:"Tagger",propTypes:{files:i.PropTypes.array,taggerFiles:i.PropTypes.instanceOf(d.Set),isShowingFiles:i.PropTypes.bool,tagsAttached:i.PropTypes.instanceOf(d.Set),tagsDetached:i.PropTypes.instanceOf(d.Set),onToggle:i.PropTypes.func,onClose:i.PropTypes.func,taggerValue:i.PropTypes.string,onTaggerValueChange:i.PropTypes.func,onTaggerFocus:i.PropTypes.func,onTagAttach:i.PropTypes.func,onTagDetach:i.PropTypes.func},getStyle:function(){return{tagger:{paddingBottom:p.heightActionBar+p.space+p.quantum},header:{backgroundColor:c.blue500,color:c.whitePrimary},close:{"float":"right",color:c.whitePrimary,fontSize:h.fontSizeSmall,lineHeight:h.lineHeightSmall,fontWeight:h.fontWeightMedium,padding:(p.touchTarget-h.lineHeightPx)/2,cursor:"pointer",marginTop:p.quantum},collapsible:{component:{padding:p.marginMobile}},fileCount:{"float":"left",fontSize:h.fontSizeLarge,lineHeight:h.lineHeightLarge,fontWeight:h.fontWeightMedium,paddingBottom:this.props.isShowingFiles?p.space:0},file:{clear:"both",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:h.fontSizeSmall,lineHeight:h.lineHeightSmall},expandCollapse:{svg:{marginLeft:p.quantum}},body:{paddingLeft:p.marginMobile,paddingRight:p.marginMobile,paddingTop:p.space}}},render:function(){var e=this.getStyle(),t=g.getFiles(this.props.files),l=t.filter(function(e){return this.props.taggerFiles.includes(e.path.join("/"))},this);l.sort(u.sortByName);var p=l.map(function(t){return i.createElement("div",{style:e.file,key:t.path.join("/")},t.path[t.path.length-1])}),h=p.length+" file"+(1===p.length?"":"s"),f={};l.forEach(function(e){for(var t=0;t<e.tags.length;t++){var i=e.tags[t];f.hasOwnProperty(i)||(f[i]=0),f[i]++}});var m=[],y=[];for(var v in f){var b=f[v];b===p.length?m.push(v):y.push(v)}m=d.Set(m),y=d.Set(y),this.props.tagsAttached.isEmpty()||(m=m.union(this.props.tagsAttached),y=y.subtract(this.props.tagsAttached)),this.props.tagsDetached.isEmpty()||(m=m.subtract(this.props.tagsDetached));var S;1===p.length?S="Tags":2===p.length?S="Tags on both files":p.length>2&&(S="Tags on all files");var T,w,x=this.props.onTagAttach.bind(null,f);if(""===this.props.taggerValue)p.length>1&&!y.isEmpty()&&(T=y,2===p.length?w="Tags on one file":p.length>2&&(w="Tags on some files"));else{var k=g.getTags(t);T=k.filter(function(e){return 0===e.indexOf(this.props.taggerValue)},this).subtract(m).sort(),w=T.size>0?'"'+this.props.taggerValue+'" tags':m.includes(this.props.taggerValue)?'All files already have tag "'+this.props.taggerValue+'"':'Create new tag "'+this.props.taggerValue+'"'}if(void 0!==T)var P=i.createElement("div",null,i.createElement(a,{text:w}),i.createElement(r,{tags:T.sort(),specialTags:m,onTagClick:x}));var C=null;return this.props.tagsSelected.size>0&&(C=i.createElement(s,{numberOfTagsSelected:this.props.tagsSelected.size,onUntag:this.props.onTagDetach.bind(null,this.props.tagsSelected)})),i.createElement("div",{style:e.tagger},i.createElement("div",{style:e.header},i.createElement("div",{style:e.close,onClick:this.props.onClose},"DONE"),i.createElement(n,{isOpen:this.props.isShowingFiles,onToggle:this.props.onToggle,style:e.collapsible},i.createElement("div",{isController:!0,style:e.fileCount},h,i.createElement(o,{isExpanded:this.props.isShowingFiles,fill:c.whitePrimary,style:e.expandCollapse})),p)),i.createElement("div",{style:e.body},i.createElement(a,{text:S}),i.createElement(r,{ref:"tagsOnAllFiles",tags:m.sort(),onTagClick:this.props.onTagSelect,specialTags:this.props.tagsSelected,onSpecialTagClick:this.props.onTagSelect,withInput:!0,value:this.props.taggerValue,onValueChange:this.props.onTaggerValueChange,placeholder:"Add tag",onSubmit:x,onFocus:this.props.onTaggerFocus}),P),C)}});t.exports=f},{"./Collapsible":6,"./ExpandCollapse":7,"./Subheader":20,"./TagActionBar":22,"./Tags":25,"./res/FileStore":29,"./res/index":37,"./util/util":43,immutable:"immutable",react:"react"}],25:[function(e,t){var i=e("react/addons"),n=e("./Tag"),o=e("./TagInput"),r=e("./res/index"),a=r.color,s=r.dimension,l=(r.typography,e("./util/util")),c=e("immutable"),p=i.createClass({displayName:"Tags",contextTypes:{preventMouseDown:i.PropTypes.func},propTypes:{tags:i.PropTypes.instanceOf(c.OrderedSet),specialTags:i.PropTypes.instanceOf(c.Set),onTagClick:i.PropTypes.func,onSpecialTagClick:i.PropTypes.func,style:i.PropTypes.object,withOverflow:i.PropTypes.bool,withInput:i.PropTypes.bool,placeholder:i.PropTypes.string,value:i.PropTypes.string,onValueChange:i.PropTypes.func,onSubmit:i.PropTypes.func,onFocus:i.PropTypes.func},getDefaultProps:function(){return{specialTags:c.Set(),onSpecialTagClick:l.noop,withInput:!1,withOverflow:!1,style:{}}},getInitialState:function(){return{tagsVisible:this.props.tags.size,isMounting:!0}},getInputNode:function(){return i.findDOMNode(this.refs.tagInput.refs.input)},getInputValue:function(){return this.refs.tagInput.getValue()},getStyle:function(){return{tags:{whiteSpace:this.props.withOverflow&&this.state.tagsVisible<this.props.tags.size?"nowrap":"normal"},tag:{tag:{backgroundColor:a.blue100,color:a.blue900,cursor:"pointer",outlineColor:a.blue500}},specialTag:{tag:{backgroundColor:a.blue500,color:a.whitePrimary,cursor:"pointer",outlineColor:a.blue900}},overflowTag:{tag:{backgroundColor:"transparent",color:a.blackHint,cursor:"pointer",outlineColor:a.blackSecondary,marginRight:0}},tagInput:{input:{borderColor:a.blackSecondary,outlineColor:a.blue500}}}},render:function(){var e=l.merge(this.getStyle(),this.props.style),t=this.props.tags.toList().map(function(t,o){var r=this.props.specialTags.includes(t),a=function(){r?this.props.onSpecialTagClick(t):this.props.onTagClick(t)}.bind(this),s=function(e){"Enter"===e.key&&(r?this.props.onSpecialTagClick(t):this.props.onTagClick(t))}.bind(this);return i.createElement(n,{ref:"tag"+o,text:t,style:r?e.specialTag:e.tag,onClick:a,onMouseDown:this.context.preventMouseDown,onKeyDown:s,key:t})},this);this.props.withOverflow&&(t=t.slice(0,this.state.tagsVisible));var r=null,a=this.props.withOverflow&&(this.state.tagsVisible<this.props.tags.size||this.state.isMounting);if(a){var s=function(){this.setState({tagsVisible:this.props.tags.size})}.bind(this),c=function(e){"Enter"===e.key&&s()}.bind(this),p=this.props.tags.size;r=i.createElement(n,{ref:"overflowTag",text:"Show all "+p,style:e.overflowTag,onClick:s,onMouseDown:this.context.preventMouseDown,onKeyDown:c,key:"overflow"})}var h=null;if(this.props.withInput){var c=function(e){"Enter"===e.key&&this.props.value.length>0&&!this.props.tags.includes(this.props.value)&&this.props.onSubmit(this.props.value)}.bind(this);h=i.createElement(o,{ref:"tagInput",value:this.props.value,style:e.tagInput,placeholder:this.props.placeholder,onChange:this.props.onValueChange,onMouseDown:this.context.preventMouseDown,onKeyDown:c,onFocus:this.props.onFocus})}return i.createElement("div",{style:e.tags},t,h,r)},componentDidMount:function(){if(this.setState({isMounting:!1}),this.props.withOverflow){var e=this.calculateOverflow();e!==this.state.tagsVisible&&this.setState({tagsVisible:e})}},calculateOverflow:function(){for(var e,t=l.getDOMNodeComputedStyle(this,"width"),i=l.getDOMNodeComputedStyle(this.refs.overflowTag,"width")+2*s.space,n=0,o=0;n<this.props.tags.size;){if(e=l.getDOMNodeComputedStyle(this.refs["tag"+n],"width")+3*s.space,n===this.props.tags.size-1&&t>o+e){n++;break}if(o+e+i>t)break;n++,o+=e}return n}});t.exports=p},{"./Tag":21,"./TagInput":23,"./res/index":37,"./util/util":43,immutable:"immutable","react/addons":"react/addons"}],26:[function(e,t){var i=e("react"),n=e("./res/index"),o=n.color,r=n.dimension,a=n.typography,s=e("./util/util"),l=i.createClass({displayName:"TextDouble",propTypes:{text:i.PropTypes.array,style:i.PropTypes.object},getDefaultProps:function(){return{text:["",""],style:{}}},getStyle:function(){return{root:{color:o.blackPrimary,paddingTop:r.space,paddingBottom:r.space,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},first:{lineHeight:a.lineHeight,fontSize:a.fontSize,fontWeight:a.fontWeightRegular},second:{lineHeight:a.lineHeightSmall,fontSize:a.fontSizeSmall,fontWeight:a.fontWeightThin}}},render:function(){var e=this.props,t=(e.text,e.style),n=function(e,t){var i={},n=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)n.call(e,o)&&!n.call(t,o)&&(i[o]=e[o]);return i}(e,{text:1,style:1});return t=s.merge(this.getStyle(),t),i.createElement("div",i.__spread({style:t.root},n),i.createElement("div",{style:t.first},this.props.text[0]),i.createElement("div",{style:t.second},this.props.text[1]))}});t.exports=l},{"./res/index":37,"./util/util":43,react:"react"}],27:[function(e,t){var i=e("react"),n=e("./res/index"),o=n.color,r=n.dimension,a=n.typography,s=e("./util/util"),l=i.createClass({displayName:"TextSingle",propTypes:{text:i.PropTypes.string,style:i.PropTypes.object},getDefaultProps:function(){return{text:"",style:{}}},getStyle:function(){var e=(r.heightTextSingle-a.lineHeightPx)/2;return{root:{color:o.blackPrimary,fontWeight:a.fontWeightRegular,fontSize:a.fontSize,lineHeight:a.lineHeightPx+"px",paddingTop:e,paddingBottom:e,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}},render:function(){var e=this.props,t=e.text,n=e.style,o=function(e,t){var i={},n=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)n.call(e,o)&&!n.call(t,o)&&(i[o]=e[o]);return i}(e,{text:1,style:1});return n=s.merge(this.getStyle(),n),i.createElement("div",i.__spread({style:n.root},o),t)}});t.exports=l},{"./res/index":37,"./util/util":43,react:"react"}],28:[function(e){var t=e("react/addons"),i=t.addons.TransitionGroup,n=t.addons.update,o=e("./Search"),r=e("./Cloud"),a=e("./Tagger"),s=e("./Fileview"),l=e("./AppBar"),c=e("./Snackbar"),p=e("./res/index"),h=p.animation,u=p.color,d=p.dimension,g=p.typography,f=e("./util/util"),m=p.constant.page,y=(e("./res/_database"),e("immutable")),v=e("./res/FileStore"),b=t.createClass({displayName:"App",getInitialState:function(){var e=m.CLOUD;return{files:v.getAll(),filesDeleted:y.Set(),tagsAttached:y.Set(),tagsDetached:y.Set(),width:0,accounts:{Dropbox:"John Doe","Google Drive":"j.doe.2015",Box:null},page:e,search:{tags:y.OrderedSet(),value:"",suggestionsVisible:!0,files:{selected:y.Set()}},cloud:{path:["Home"],files:{selected:y.Set()}},tagger:{files:y.Set(),isShowingFiles:!1,basePage:e,value:"",tagsSelected:y.Set()},fileview:{file:"",value:"",basePage:e,tagsSelected:y.Set()},snackbar:{visible:!1,message:"",action:"",cancel:f.noop,complete:f.call}}},_setStateFromHistory:function(e){this.state.snackbar.complete();var t=e.state.page,i=y.OrderedSet(e.state.searchTags),o=e.state.path;this.setState({page:t,search:n(this.state.search,{tags:{$set:i},value:{$set:""},files:{selected:{$set:y.Set()}}}),cloud:n(this.state.cloud,{path:{$set:o},files:{selected:{$set:y.Set()}}})},function(){this.showSearchSuggestions(!1),document.activeElement.blur()})},setBrowserState:function(e){var t={page:this.state.page,searchTags:this.state.search.tags.toArray(),path:this.state.cloud.path};e?window.history.replaceState(t,""):window.history.pushState(t,"")},childContextTypes:{preventMouseDown:t.PropTypes.func,width:t.PropTypes.number},getChildContext:function(){return{preventMouseDown:this.preventMouseDown,width:this.state.width}},handleResize:function(){var e=document.documentElement.clientWidth;e!==this.state.width&&this.setState({width:e})},handleMouseDown:function(){this.showSearchSuggestions(!1)},preventMouseDown:function(e){e.stopPropagation()},getURL:function(e){var t;switch(e){case m.SEARCH:t="/search";break;case m.CLOUD:t="/home";var i=this.state.cloud.path.slice(1);i.length>0&&(t=t+"/"+i.join("/"));break;case m.TAGGER:t=this.getURL(this.state.tagger.basePage);break;default:throw"NOT A VALID PAGE"}return t},componentDidMount:function(){window.history.replaceState({page:this.state.page,searchTags:this.state.search.tags.toArray(),path:this.state.cloud.path},""),window.addEventListener("popstate",this._setStateFromHistory),window.addEventListener("resize",this.handleResize),this.handleResize()},componentWillUnmount:function(){window.removeEventListener("popstate",this._setStateFromHistory),window.removeEventListener("resize",this.handleResize)},searchInputIsFocused:function(){if("search"in this.refs){var e=this.refs.search.refs.searchTags.getInputNode();return e===document.activeElement}return!1},addSearchTag:function(e){this.state.snackbar.complete(),this.setState({search:n(this.state.search,{tags:{$set:this.state.search.tags.add(e)},value:{$set:""}})},function(){var e=this.searchInputIsFocused();this.showSearchSuggestions(e),this.setBrowserState()})},deleteSearchTag:function(e){this.state.snackbar.complete(),this.setState({search:n(this.state.search,{tags:{$set:this.state.search.tags.delete(e)},files:{selected:{$set:y.Set()}}})},function(){this.showSearchSuggestions(!1),this.setBrowserState()})},handleSearchFocus:function(){this.state.snackbar.complete(),this.showSearchSuggestions(!0)},handleSearchValueChange:function(){var e=this.refs.search.refs.searchTags.getInputValue();this.setState({search:n(this.state.search,{value:{$set:e}})},function(){this.showSearchSuggestions(!0)})},showSearchSuggestions:function(e){this.state.search.tags.isEmpty()&&(e=!0),this.state.search.suggestionsVisible!==e&&this.setState({search:n(this.state.search,{suggestionsVisible:{$set:e}})})},handlePathShorten:function(e){var t=this.state.cloud.path.slice(0,e+1);this.handlePathChange(t)},handlePathLengthen:function(e){var t=this.state.cloud.path.concat([e]);this.handlePathChange(t)},handlePathChange:function(e){this.state.snackbar.complete(),this.setState({cloud:n(this.state.cloud,{path:{$set:e},files:{selected:{$set:y.Set()}}})},this.setBrowserState)},goHome:function(){this.setState({cloud:n(this.state.cloud,{path:{$set:this.state.cloud.path.slice(0,1)},files:{selected:{$set:y.Set()}}})},function(){this.navigate(m.CLOUD)})},handleCloudTagClick:function(e){this.setState({search:n(this.state.search,{tags:{$set:y.OrderedSet([e])},files:{selected:{$set:y.Set()}}})},function(){this.showSearchSuggestions(!1),this.navigate(m.SEARCH)})},upload:function(e){for(var t={},i=0;i<e.length;i++){var n=e[i];t[n.name]={name:n.name,size:n.size,mime:n.type}}v.uploadFiles(t,this.state.cloud.path.slice(1)),this.setState({files:v.getAll()})},handleFileUpload:function(e){e.stopPropagation(),e.preventDefault(),this.upload(e.target.files)},handleFileDrop:function(e){e.stopPropagation(),e.preventDefault(),this.upload(e.dataTransfer.files)},setFileState:function(e,t,i){e===m.SEARCH?this.setState({search:n(this.state.search,t)},i):e===m.CLOUD&&this.setState({cloud:n(this.state.cloud,t)},i)},handleFileSelect:function(e){this.state.snackbar.complete();var t=this.state.page,i=this.state[t].files.selected.includes(e)?this.state[t].files.selected.delete(e):this.state[t].files.selected.add(e);this.setFileState(t,{files:{selected:{$set:i}}},function(){this.showSearchSuggestions(!1)})},handleFileSelectAll:function(e){this.setFileState(this.state.page,{files:{selected:{$set:y.Set(e)}}})},handleFileUnselectAll:function(){this.setFileState(this.state.page,{files:{selected:{$set:y.Set()}}})},handleFileDelete:function(e){if(0!==e.size){var t=this.state.search.files,i=this.state.cloud.files,o=t.selected.filter(function(t){return!e.includes(t)}),r=i.selected.filter(function(t){return!e.includes(t)});this.setState({filesDeleted:e,search:n(this.state.search,{files:{selected:{$set:o}}}),cloud:n(this.state.cloud,{files:{selected:{$set:r}}})});var a=e.size,s=1!==a?"s":"",l="Deleted "+a+" file"+s,c="UNDO",p=function(){v.deleteFiles(e.toArray()),this.setState({files:v.getAll(),filesDeleted:y.Set()})}.bind(this),h=function(){this.setState({filesDeleted:y.Set(),search:n(this.state.search,{files:{$set:t}}),cloud:n(this.state.cloud,{files:{$set:i}})})}.bind(this);this.showSnackbar({message:l,action:c,cancel:h,complete:p})}},openTagger:function(){var e=this.state.page;this.setState({tagger:n(this.state.tagger,{files:{$set:this.state[e].files.selected},basePage:{$set:e}})},this.navigate.bind(this,m.TAGGER))},handleTaggerToggle:function(){this.setState({tagger:n(this.state.tagger,{isShowingFiles:{$set:!this.state.tagger.isShowingFiles}})})},closeTagger:function(){this.setState({tagger:n(this.state.tagger,{files:{$set:y.Set()},isShowingFiles:{$set:!1},value:{$set:""},tagsSelected:{$set:y.Set()}})}),this.navigate(this.state.tagger.basePage)},handleTaggerFocus:function(){this.state.snackbar.complete()},handleTaggerValueChange:function(){this.state.snackbar.complete();var e=this.refs.tagger.refs.tagsOnAllFiles.getInputValue();this.setState({tagger:n(this.state.tagger,{value:{$set:e}})})},handleTaggerTagAttach:function(e,t){var i=this.state.tagger.files,o=i.size;t in e&&(o-=e[t]),this.setState({tagger:n(this.state.tagger,{value:{$set:""}})}),this.handleTagAttach(i.toArray(),t,o)},handleTaggerTagDetach:function(e){var t=this.state.tagger.files.size,i="Removed "+e.size+" tag"+(1===e.size?"":"s")+" from "+t+" file"+(1===t?"":"s"),o="UNDO",r=function(){v.detachTags(this.state.tagger.files.toArray(),e),this.setState({files:v.getAll(),tagsDetached:this.state.tagsDetached.subtract(e)});var t=this.state.search.files.selected;e.forEach(function(e){this.state.search.tags.includes(e)&&(t=t.subtract(this.state.tagger.files))},this),this.setState({search:n(this.state.search,{files:{selected:{$set:t}}})})}.bind(this),a=function(){this.setState({tagsDetached:this.state.tagsDetached.subtract(e),tagger:n(this.state.tagger,{tagsSelected:{$set:e}})})}.bind(this);this.setState({tagsDetached:this.state.tagsDetached.union(e),tagger:n(this.state.tagger,{value:{$set:""},tagsSelected:{$set:y.Set()}})},function(){this.showSnackbar({message:i,action:o,cancel:a,complete:r})})},openFileview:function(e){var t=this.state.page;this.setState({fileview:n(this.state.fileview,{file:{$set:e},basePage:{$set:t}})},this.navigate.bind(this,m.FILEVIEW))},closeFileview:function(){this.setState({fileview:n(this.state.fileview,{file:{$set:""},value:{$set:""},tagsSelected:{$set:y.Set()}})}),this.navigate(this.state.fileview.basePage)},handleFileviewFocus:function(){this.state.snackbar.complete()},handleFileviewValueChange:function(){this.state.snackbar.complete();var e=this.refs.fileview.refs.tags.getInputValue();this.setState({fileview:n(this.state.fileview,{value:{$set:e}})})},handleFileviewTagAttach:function(e){this.setState({fileview:n(this.state.fileview,{value:{$set:""}})}),this.handleTagAttach([this.state.fileview.file],e)},handleFileviewTagDetach:function(e){var t=1,i="Removed "+e.size+" tag"+(1===e.size?"":"s")+" from "+t+" file"+(1===t?"":"s"),o="UNDO",r=function(){v.detachTags([this.state.fileview.file],e),this.setState({files:v.getAll(),tagsDetached:this.state.tagsDetached.subtract(e)});var t=this.state.search.files.selected;e.forEach(function(e){this.state.search.tags.includes(e)&&(t=t.subtract([this.state.fileview.file]))},this),this.setState({search:n(this.state.search,{files:{selected:{$set:t}}})})}.bind(this),a=function(){this.setState({tagsDetached:this.state.tagsDetached.subtract(e),fileview:n(this.state.fileview,{tagsSelected:{$set:e}})})}.bind(this);this.setState({tagsDetached:this.state.tagsDetached.union(e),fileview:n(this.state.fileview,{value:{$set:""},tagsSelected:{$set:y.Set()}})},function(){this.showSnackbar({message:i,action:o,cancel:a,complete:r})})},handleTagSelect:function(e){this.state.snackbar.complete();var t=this.state.page,i=this.state[t].tagsSelected.includes(e)?this.state[t].tagsSelected.delete(e):this.state[t].tagsSelected.add(e);this.setTagState(t,{tagsSelected:{$set:i}})},setTagState:function(e,t){e===m.TAGGER?this.setState({tagger:n(this.state.tagger,t)}):e===m.FILEVIEW&&this.setState({fileview:n(this.state.fileview,t)})},handleTagAttach:function(e,t,i){var n='Added tag "'+t+'"';"number"==typeof i&&(n+=" to "+i+" file"+(1===i?"":"s"));var o="UNDO",r=function(){v.attachTag(e,t),this.setState({files:v.getAll(),tagsAttached:this.state.tagsAttached.delete(t)})}.bind(this),a=function(){this.setState({tagsAttached:this.state.tagsAttached.delete(t)})}.bind(this);this.setState({tagsAttached:this.state.tagsAttached.add(t)},function(){this.showSnackbar({message:n,action:o,cancel:a,complete:r})})},showSnackbar:function(e){this.state.snackbar.complete(function(){var t=6e3,i=window.setTimeout(function(){r()},t),o=function(){window.clearTimeout(i),e.cancel(),this.setState({snackbar:n(this.state.snackbar,{visible:{$set:!1},cancel:{$set:f.noop},complete:{$set:f.call}})})}.bind(this),r=function(t){var o=this.state.snackbar.visible?h.snackbar.leave.duration:0;window.clearTimeout(i),e.complete(),this.setState({snackbar:n(this.state.snackbar,{visible:{$set:!1},cancel:{$set:f.noop},complete:{$set:f.call}})},function(){window.setTimeout(t,o)})}.bind(this);this.setState({snackbar:n(this.state.snackbar,{visible:{$set:!0},message:{$set:e.message},action:{$set:e.action},cancel:{$set:o},complete:{$set:r}})})}.bind(this))},getSearchProps:function(){return{searchTags:this.state.search.tags,searchValue:this.state.search.value,files:this.state.files,filesDeleted:this.state.filesDeleted,filesSelected:this.state.search.files.selected,suggestionsVisible:this.state.search.suggestionsVisible,onSearchTagAdd:this.addSearchTag,onSearchTagDelete:this.deleteSearchTag,onSearchFocus:this.handleSearchFocus,onSearchValueChange:this.handleSearchValueChange,onFileSelect:this.handleFileSelect,onFileSelectAll:this.handleFileSelectAll,onFileUnselectAll:this.handleFileUnselectAll,onFileDelete:this.handleFileDelete,onFileTag:this.openTagger,onFileOpen:this.openFileview}
},getCloudProps:function(){return{accounts:this.state.accounts,path:this.state.cloud.path,files:this.state.files,filesDeleted:this.state.filesDeleted,filesSelected:this.state.cloud.files.selected,onPathShorten:this.handlePathShorten,onPathLengthen:this.handlePathLengthen,onFileSelect:this.handleFileSelect,onFileSelectAll:this.handleFileSelectAll,onFileUnselectAll:this.handleFileUnselectAll,onFileDelete:this.handleFileDelete,onFileTag:this.openTagger,onFileOpen:this.openFileview,onFileUpload:this.handleFileUpload,onFileDrop:this.handleFileDrop,onTagClick:this.handleCloudTagClick}},getTaggerProps:function(){return{files:this.state.files,taggerFiles:this.state.tagger.files,isShowingFiles:this.state.tagger.isShowingFiles,tagsAttached:this.state.tagsAttached,tagsDetached:this.state.tagsDetached,tagsSelected:this.state.tagger.tagsSelected,onToggle:this.handleTaggerToggle,onClose:this.closeTagger,taggerValue:this.state.tagger.value,onTaggerValueChange:this.handleTaggerValueChange,onTaggerFocus:this.handleTaggerFocus,onTagAttach:this.handleTaggerTagAttach,onTagDetach:this.handleTaggerTagDetach,onTagSelect:this.handleTagSelect}},getFileviewProps:function(){return{files:this.state.files,file:this.state.fileview.file,onClose:this.closeFileview,value:this.state.fileview.value,onValueChange:this.handleFileviewValueChange,onFocus:this.handleFileviewFocus,tagsAttached:this.state.tagsAttached,tagsDetached:this.state.tagsDetached,tagsSelected:this.state.fileview.tagsSelected,onTagAttach:this.handleFileviewTagAttach,onTagDetach:this.handleFileviewTagDetach,onTagSelect:this.handleTagSelect}},getPage:function(){var e;switch(this.state.page){case m.SEARCH:e=t.createElement(o,t.__spread({ref:"search"},this.getSearchProps()));break;case m.CLOUD:e=t.createElement(r,t.__spread({},this.getCloudProps()));break;case m.TAGGER:e=t.createElement(a,t.__spread({ref:"tagger"},this.getTaggerProps()));break;case m.FILEVIEW:e=t.createElement(s,t.__spread({ref:"fileview"},this.getFileviewProps()));break;default:throw"NOT A VALID PAGE"}return e},navigate:function(e){var t=this.state.page;e!==t&&(this.state.snackbar.complete(),this.setState({page:e},function(){var e=t===m.TAGGER;this.setBrowserState(e),window.scroll(0,0)}))},getStyle:function(){return{app:{color:u.blackPrimary,fontSize:g.fontSize,fontFamily:g.fontFamily,WebkitTapHighlightColor:"rgba(0,0,0,0)",paddingBottom:d.heightAppBarMobile,height:"100%"}}},render:function(){var e=this.getStyle(),n=this.getPage(),o=null;(this.state.page===m.SEARCH||this.state.page===m.CLOUD)&&(o=t.createElement(l,{page:this.state.page,onNavigate:this.navigate,onGoHome:this.goHome}));var r=null;return this.state.snackbar.visible&&(r=t.createElement(c,{message:this.state.snackbar.message,action:this.state.snackbar.action,onCancel:this.state.snackbar.cancel})),t.createElement("div",{style:e.app,onMouseDown:this.handleMouseDown},o,n,t.createElement(i,null,r))}});t.render(t.createElement(b,null),document.getElementById("content"))},{"./AppBar":2,"./Cloud":4,"./Fileview":10,"./Search":18,"./Snackbar":19,"./Tagger":24,"./res/FileStore":29,"./res/_database":30,"./res/index":37,"./util/util":43,immutable:"immutable","react/addons":"react/addons"}],29:[function(e,t){var i=e("immutable"),n=[{isFolder:!0,path:["Dropbox"],contents:[{isFolder:!1,path:["Dropbox","Getting Started.pdf"],modified:"2010 Sep 16",size:"124 kB",type:"PDF",link:"//www.dropbox.com/home",tags:[]},{isFolder:!0,path:["Dropbox","Recipes"],contents:[{isFolder:!1,path:["Dropbox","Recipes","pork-adobo.txt"],modified:"2012 Sep 16",size:"199 B",type:"TXT",link:"//www.dropbox.com/home",tags:["pork","shoyu","vinegar","bay leaf"]},{isFolder:!1,path:["Dropbox","Recipes","tarragon-chicken.docx"],modified:"2013 Jan 30",size:"27.90 kB",type:"DOCX",link:"//www.dropbox.com/home",tags:["chicken","tarragon","white pepper","cream","wine","white wine"]},{isFolder:!1,path:["Dropbox","Recipes","Pesto"],modified:"2013 Nov 20",size:"108 B",type:"FILE",link:"//www.dropbox.com/home",tags:["pine nuts","basil","parmesan","olive oil","grana padano"]},{isFolder:!1,path:["Dropbox","Recipes","Spicy pork bulgogi"],modified:"2014 Aug 22",size:"702 B",type:"FILE",link:"//www.dropbox.com/home",tags:["spicy","gochujang","pork","pork shoulder"]},{isFolder:!1,path:["Dropbox","Recipes","Gnocchi"],modified:"2014 Oct 17",size:"683 B",type:"FILE",link:"//www.dropbox.com/home",tags:["flour","potato","eggs","egg yolks","parmesan"]},{isFolder:!1,path:["Dropbox","Recipes","roast-chicken"],modified:"2014 Dec 1",size:"236 B",type:"FILE",link:"//www.dropbox.com/home",tags:["chicken","roast"]},{isFolder:!1,path:["Dropbox","Recipes","Pad kee mao"],modified:"2015 May 25",size:"449 B",type:"FILE",link:"//www.dropbox.com/home",tags:["basil","spicy","fish sauce","rice noodles","bourbon"]},{isFolder:!1,path:["Dropbox","Recipes","Baby back ribs"],modified:"2015 Jul 8",size:"320 B",type:"FILE",link:"//www.dropbox.com/home",tags:["ribs","pork","honey","vinegar"]},{isFolder:!0,path:["Dropbox","Recipes","To Try"],contents:[{isFolder:!1,path:["Dropbox","Recipes","To Try","Perfect french fries"],modified:"2014 Jun 28",size:"908 B",type:"FILE",link:"//www.dropbox.com/home",tags:["potato","fried","fries"]},{isFolder:!1,path:["Dropbox","Recipes","To Try","Chinese roast pork"],modified:"2015 Jul 6",size:"492 B",type:"FILE",link:"//www.dropbox.com/home",tags:["pork","roast","crunchy","white pepper"]},{isFolder:!1,path:["Dropbox","Recipes","To Try","Braised pork cheeks"],modified:"2014 Nov 27",size:"851 B",type:"FILE",link:"//www.dropbox.com/home",tags:["pork cheeks","pork","wine","port wine","honey","flour","bay leaf","olive oil"]}]}]}]},{isFolder:!0,path:["Google Drive"],contents:[{isFolder:!1,path:["Google Drive","Char siu"],modified:"2015 Feb 24",size:"515 B",type:"FILE",link:"//www.dropbox.com/home",tags:["pork","honey","five spice","shoyu","white pepper","pork shoulder","roast"]},{isFolder:!1,path:["Google Drive","Coconut ice cream"],modified:"2015 Mar 8",size:"133 B",type:"FILE",link:"//drive.google.com",tags:["coconut milk","sugar","eggs","egg yolks","cream","milk"]},{isFolder:!1,path:["Google Drive","Vietnamese fish sauce wings"],modified:"2015 Mar 20",size:"777 B",type:"FILE",link:"//drive.google.com",tags:["fish sauce","chicken","chicken wings","fried","sugar","crunchy"]},{isFolder:!1,path:["Google Drive","Panang curry"],modified:"2015 Apr 20",size:"739 B",type:"FILE",link:"//drive.google.com",tags:["coconut milk","fish sauce","basil","sugar"]},{isFolder:!0,path:["Google Drive","Photos"],contents:[{isFolder:!1,path:["Google Drive","Photos","sunset.jpg"],modified:"2011 May 11",size:"152 kB",type:"JPG",link:"//drive.google.com",tags:[]}]},{isFolder:!0,path:["Google Drive","Music"],contents:[{isFolder:!1,path:["Google Drive","Music","Zac Brown Band - Loving You Easy.mp3"],modified:"2015 Jul 20",size:"5.18 MB",type:"MP3",link:"//drive.google.com",tags:[]}]}]}],o=function(e){var t,i={B:Math.pow(2,0),kB:Math.pow(2,10),MB:Math.pow(2,20),GB:Math.pow(2,30),TB:Math.pow(2,40)};if(0>e)throw"File size cannot be negative";t=e<i.kB?"B":e<i.MB?"kB":e<i.GB?"MB":e<i.TB?"GB":"TB";var n=(e/i[t]).toFixed(2),o=n.split("."),r=o[0],a=3===r.length||4===r.length||"B"===t,s=a?"":"."+o[1];return r+s+" "+t},r=function(e,t){var i=Array(t).join(0);return(i+e).slice(-t)},a={"text/plain":"TXT","text/csv":"CSV","text/css":"CSS","text/html":"HTML","application/pdf":"PDF","application/rtf":"RTF","application/xml":"XML","application/x-tex":"TEX","application/postscript":"AI","application/octet-stream":"BIN","application/msword":"DOC","application/vnd.ms-excel":"XLS","application/vnd.ms-powerpoint":"PPT","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"DOCX","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"XLSX","application/vnd.openxmlformats-officedocument.presentationml.presentation":"PPTX","image/png":"PNG","image/bmp":"BMP","image/gif":"GIF","image/jpeg":"JPG","image/tiff":"TIFF","image/x-tiff":"TIFF","image/svg+xml":"SVG","image/vnd.adobe.photoshop":"PSD","audio/mpeg3":"MP3","audio/x-mpeg-3":"MP3","audio/wav":"WAV","audio/x-wav":"WAV","audio/x-ms-wma":"WMA","audio/midi":"MIDI","audio/x-midi":"MIDI","video/mpeg":"MP3","video/x-mpeg":"MP3","video/x-ms-wmv":"WMV","video/mpeg":"MPEG","audio/mp4":"MP4A","video/mp4":"MP4","application/mp4":"MP4","video/x-m4v":"M4V","video/x-msvideo":"AVI","video/avi":"AVI","video/msvideo":"AVI","video/x-msvideo":"AVI","video/avs-video":"AVI","video/quicktime":"MOV","video/jpeg":"JPGV"},s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l={Dropbox:"//www.dropbox.com/home","Google Drive":"//drive.google.com"},c={getAll:function(){return n},deleteFiles:function(e){console.log("delete files in filestore"),this.forEachPath(e,function(e,t,i){i.splice(t,1)})},attachTag:function(e,t){console.log("attach tag in filestore"),this.forEachPath(e,function(e){e.tags=i.Set(e.tags).add(t).toArray()})},detachTag:function(e,t){console.log("detach tag in filestore"),this.forEachPath(e,function(e){for(var i,n=e.tags,o=0;o<n.length;o++)if(n[o]===t){i=o;break}n.splice(i,1)})},detachTags:function(e,t){console.log("detach tags in filestore"),this.forEachPath(e,function(e){e.tags=i.Set(e.tags).subtract(t).toArray()})},forEachPath:function(e,t){for(var i=0;i<e.length;i++){for(var o,r,a=e[i].split("/"),s=a.slice(0,-1),l=a[a.length-1],c=this.goToFolder(n,s),p=0;p<c.length;p++){var h=c[p];if(!h.isFolder&&h.path[h.path.length-1]===l){o=p,r=h;break}}if(void 0===o)throw"File not found";t(r,o,c)}},uploadFiles:function(e,t){console.log("Uploading files to "+t.join("/"));for(var i=this.goToFolder(n,t),c=new Date,p=c.getFullYear(),h=s[c.getMonth()],u=r(c.getDate(),2),d=0;d<i.length;d++){var g=i[d];if(!g.isFolder&&e.hasOwnProperty(g.path[g.path.length-1])){var f=g,m=e[g.path[g.path.length-1]];f.modified=[p,h,u].join(" "),f.size=o(m.size),f.type=a[m.mime]||"FILE",delete e[g.path[g.path.length-1]]}}var y=[];for(var v in e){var m=e[v];f={path:t.concat(m.name),tags:[],link:l[t[0]],modified:[p,h,u].join(" "),size:o(m.size),type:a[m.mime]||"FILE"},y.push(f)}Array.prototype.push.apply(i,y)},getFiles:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];n.isFolder?Array.prototype.push.apply(t,this.getFiles(n.contents)):t.push(n)}return t},getTags:function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];Array.prototype.push.apply(t,o.tags)}return i.Set(t)},getTagsStartingWith:function(e,t){for(var n=[],o=0;o<e.length;o++)for(var r=e[o],a=0;a<r.tags.length;a++){var s=r.tags[a];0===s.indexOf(t)&&n.push(s)}return i.Set(n)},filterFiles:function(e,t){var i=[];if(!t.isEmpty())for(var n=0;n<e.length;n++){var o=e[n];t.isSubset(o.tags)&&i.push(o)}return i},getFile:function(e,t){var i=t.slice(0,-1),n=t[t.length-1];e=this.goToFolder(e,i);for(var o=0;o<e.length;o++){var r=e[o];if(!r.isFolder){var a=r.path[r.path.length-1];if(a===n)return r}}},getContents:function(e,t){e=this.goToFolder(e,t);for(var i=[],n=[],o=0;o<e.length;o++){var r=e[o];r.isFolder?i.push(r.path[r.path.length-1]):n.push(r)}return{folders:i,files:n}},goToFolder:function(e,t){for(var i=0;i<t.length;i++){for(var n=t[i],o=!1,r=0;r<e.length;r++){var a=e[r];if(a.isFolder&&a.path[a.path.length-1]===n){e=a.contents,o=!0;break}}if(!o)throw"Bad path"}return e},sortFilesByName:function(e,t){var i=e.path[e.path.length-1],n=t.path[t.path.length-1];return i===n?0:n>i?-1:1}};t.exports=c},{immutable:"immutable"}],30:[function(e,t){var i=e("immutable"),n=e("rsvp"),o=500;t.exports={mapFiles:function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n],r=o.path.concat(o.name).join("/");t.push([r,o])}return i.OrderedMap(t)},delayResponse:function(e,t){return void 0===t&&(t=o),new n.Promise(function(i){window.setTimeout(function(){i(e)},t)})}}},{immutable:"immutable",rsvp:44}],31:[function(e,t){var i=function(e){return Math.pow(e,2)},n=function(e){return-(Math.pow(e-1,2)-1)};t.exports={snackbar:{enter:{duration:350,easing:"ease",textDelay:100,textDuration:250},leave:{duration:200,easing:"ease"}},expandCollapse:{rotate:{duration:200,easing:"ease"}},checkline:{animation:{duration:90,ease:i}},checkmark:{downAnimation:{duration:30,ease:n},upAnimation:{duration:60,ease:i}}}},{}],32:[function(e,t){t.exports={black:"#000000",blackPrimary:"rgba(0,0,0,0.87)",blackSecondary:"rgba(0,0,0,0.54)",blackHint:"rgba(0,0,0,0.26)",blackDivider:"rgba(0,0,0,0.12)",blackPrimaryOpacity:.87,blackSecondaryOpacity:.54,blackHintOpacity:.26,blackDividerOpacity:.12,white:"#ffffff",whitePrimary:"#ffffff",whiteSecondary:"rgba(255,255,255,0.70)",whiteHint:"rgba(255,255,255,0.30)",whiteDivider:"rgba(255,255,255,0.12)",whitePrimaryOpacity:1,whiteSecondaryOpacity:.7,whiteHintOpacity:.3,whiteDividerOpacity:.12,blue50:"#e3f2fd",blue100:"#bbdefb",blue200:"#90caf9",blue300:"#64b5f6",blue400:"#42a5f5",blue500:"#2196f3",blue600:"#1e88e5",blue700:"#1976d2",blue800:"#1565c0",blue900:"#0d47a1"}},{}],33:[function(e,t){t.exports={page:{SEARCH:"search",CLOUD:"cloud",TAGGER:"tagger",FILEVIEW:"fileview",SCRATCH:"scratch"},ternary:{FALSE:0,INDETERMINATE:1,TRUE:2}}},{}],34:[function(e,t){t.exports={quantum:4,space:8,touchTarget:48,marginMobile:16,marginTablet:24,marginContentMobile:72,marginContentTablet:80,heightActionBar:48,heightSubheader:48,heightTag:32,heightProgressBar:4,heightTextSingle:48,heightTextDouble:56,heightAppBarMobile:56,heightAppBarTablet:64,snackbar:{paddingVertical:14,paddingHorizontal:24,minWidth:288,maxWidth:568},icon:24,logoWidth:36,logoHeight:24,borderWidth:1,borderRadius:2}},{}],35:[function(e,t){t.exports={checkbox:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",checkboxOutline:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z",checkboxPartial:"M 5 3 C 3.892 3 3 3.892 3 5 L 3 19 C 3 20.108 3.892 21 5 21 L 19 21 C 20.108 21 21 20.108 21 19 L 21 5 C 21 3.892 20.108 3 19 3 L 5 3 z M 5 11 L 19 11 L 19 13 L 5 13 L 5 11 z",chevronRight:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",cloud:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z",expand:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z",folder:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z",logoCloud:"M 29.0325,9.052497 C 28.012501,3.892499 23.46,0 17.999999,0 c -4.334999,0 -8.0925,2.460001 -9.975,6.052498 -4.5075,0.487497 -8.025,4.305 -8.025,8.947505 0,4.972494 4.0275,8.999997 9,8.999997 H 28.5 c 4.140001,0 7.500001,-3.36 7.500001,-7.500002 0,-3.959996 -3.0825,-7.169995 -6.967501,-7.447501 z",logoTag:"m 26.5575,13.185 -6.75,-6.750005 c -0.27,-0.269998 -0.645,-0.434997 -1.057501,-0.434997 l -5.25,0 c -1.499999,1.500004 0,0 -1.499999,1.500004 l 0,5.25 c 0,0.412501 0.164999,0.7875 0.4425,1.064998 l 6.75,6.750004 c 0.27,0.269998 0.644999,0.434997 1.0575,0.434997 0.4125,0 0.7875,-0.164999 1.0575,-0.442505 l 5.25,-5.25 C 26.835,15.037497 27,14.662498 27,14.249997 27,13.837496 26.8275,13.454998 26.5575,13.185 z M 14.625,9.750003 c -0.622501,0 -1.125001,-0.502504 -1.125001,-1.125005 0,-0.622501 0.5025,-1.124996 1.125001,-1.124996 0.622499,0 1.125,0.502495 1.125,1.124996 0,0.622501 -0.502501,1.125005 -1.125,1.125005 z",moreVert:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z",search:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",tag:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z",trash:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",upload:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}},{}],36:[function(e,t){t.exports={Dropbox:{src:"/image/dropbox-logo-128.png",alt:"Dropbox Logo"},"Google Drive":{src:"/image/google-drive-logo-128.png",alt:"Google Drive Logo"},Box:{src:"/image/box-logo-128.png",alt:"Box Logo"}}},{}],37:[function(e,t){t.exports={animation:e("./animation"),color:e("./color"),constant:e("./constant"),dimension:e("./dimension"),icon:e("./icon"),image:e("./image"),providers:e("./providers"),shadow:e("./shadow"),transition:e("./transition"),typography:e("./typography"),value:e("./value")}},{"./animation":31,"./color":32,"./constant":33,"./dimension":34,"./icon":35,"./image":36,"./providers":38,"./shadow":39,"./transition":40,"./typography":41,"./value":42}],38:[function(e,t){t.exports=[{name:"Dropbox",login:"//www.dropbox.com/home"},{name:"Google Drive",login:"//drive.google.com"},{name:"Box",login:"//app.box.com"}]},{}],39:[function(e,t){t.exports={zDepth:["none","0 1px 6px rgba(0, 0, 0, 0.12),   0 1px 4px rgba(0, 0, 0, 0.24)","0 3px 10px rgba(0, 0, 0, 0.16),  0 3px 10px rgba(0, 0, 0, 0.23)","0 10px 30px rgba(0, 0, 0, 0.19), 0 6px 10px rgba(0, 0, 0, 0.23)","0 14px 45px rgba(0, 0, 0, 0.25), 0 10px 18px rgba(0, 0, 0, 0.22)","0 19px 60px rgba(0, 0, 0, 0.30), 0 15px 20px rgba(0, 0, 0, 0.22)"],zDepthTop:["none","0 -1px 6px rgba(0, 0, 0, 0.12),   0 -1px 4px rgba(0, 0, 0, 0.24)","0 -3px 10px rgba(0, 0, 0, 0.16),  0 -3px 10px rgba(0, 0, 0, 0.23)","0 -10px 30px rgba(0, 0, 0, 0.19), 0 -6px 10px rgba(0, 0, 0, 0.23)","0 -14px 45px rgba(0, 0, 0, 0.25), 0 -10px 18px rgba(0, 0, 0, 0.22)","0 -19px 60px rgba(0, 0, 0, 0.30), 0 -15px 20px rgba(0, 0, 0, 0.22)"]}},{}],40:[function(e,t){t.exports={easeOut:"all .5s ease-out"}},{}],41:[function(e,t){t.exports={fontSizeSmall:14,fontSize:16,fontSizeLarge:20,lineHeightSmall:20/14,lineHeight:1.25,lineHeightLarge:1.2,lineHeightPx:20,fontWeightThin:300,fontWeightRegular:400,fontWeightMedium:500,fontFamily:"Roboto, sans-serif",logoFontFamily:"Roboto Slab, serif"}},{}],42:[function(e,t){t.exports={appName:"Tagged"}},{}],43:[function(e,t){var i=e("react"),n=e("immutable"),o=n.Set(["flex","flexDirection","flexWrap","justifyContent","alignItems","userSelect","transform","transformOrigin","transition","transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"]);t.exports={noop:function(){},call:function(e){"function"==typeof e&&e()},getDOMNodeComputedStyle:function(e,t){var n=i.findDOMNode(e);return parseInt(window.getComputedStyle(n)[t])},merge:function(e,t){var i=n.fromJS(e),o=n.fromJS(t);return i.mergeDeep(o).toJS()},makePath:function(e){return e.join(String.fromCharCode(8203)+"/")},prefix:function(e){var t={};for(var i in e)if("object"==typeof e[i])t[i]=this.prefix(e[i]);else if(t[i]=e[i],o.includes(i)){var n=i.charAt(0).toUpperCase()+i.slice(1);t["Webkit"+n]=e[i],t["Moz"+n]=e[i],t["ms"+n]=e[i],t["O"+n]=e[i]}return t},uuid:function(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}}},{immutable:"immutable",react:"react"}],44:[function(e,t){(function(i){(function(){"use strict";function n(e){return"function"==typeof e||"object"==typeof e&&null!==e}function o(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function a(){}function s(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1}function l(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t}function c(e,t){return"onerror"===e?void kt.on("error",t):2!==arguments.length?kt[e]:void(kt[e]=t)}function p(){setTimeout(function(){for(var e,t=0;t<Pt.length;t++){e=Pt[t];var i=e.payload;i.guid=i.key+i.id,i.childGuid=i.key+i.childId,i.error&&(i.stack=i.error.stack),kt.trigger(e.name,e.payload)}Pt.length=0},50)}function h(e,t,i){1===Pt.push({name:e,payload:{key:t._guidKey,id:t._id,eventName:e,detail:t._result,childId:i&&i._id,label:t._label,timeStamp:Tt(),error:kt["instrument-with-stack"]?new Error(t._label):null}})&&p()}function u(){return new TypeError("A promises callback cannot return that same promise.")}function d(){}function g(e){try{return e.then}catch(t){return Ot.error=t,Ot}}function f(e,t,i,n){try{e.call(t,i,n)}catch(o){return o}}function m(e,t,i){kt.async(function(e){var n=!1,o=f(i,t,function(i){n||(n=!0,t!==i?b(e,i):T(e,i))},function(t){n||(n=!0,w(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&o&&(n=!0,w(e,o))},e)}function y(e,t){t._state===Ft?T(e,t._result):t._state===Dt?(t._onError=null,w(e,t._result)):x(t,void 0,function(i){t!==i?b(e,i):T(e,i)},function(t){w(e,t)})}function v(e,t){if(t.constructor===e.constructor)y(e,t);else{var i=g(t);i===Ot?w(e,Ot.error):void 0===i?T(e,t):o(i)?m(e,t,i):T(e,t)}}function b(e,t){e===t?T(e,t):n(t)?v(e,t):T(e,t)}function S(e){e._onError&&e._onError(e._result),k(e)}function T(e,t){e._state===Et&&(e._result=t,e._state=Ft,0===e._subscribers.length?kt.instrument&&Ct("fulfilled",e):kt.async(k,e))}function w(e,t){e._state===Et&&(e._state=Dt,e._result=t,kt.async(S,e))}function x(e,t,i,n){var o=e._subscribers,r=o.length;e._onError=null,o[r]=t,o[r+Ft]=i,o[r+Dt]=n,0===r&&e._state&&kt.async(k,e)}function k(e){var t=e._subscribers,i=e._state;if(kt.instrument&&Ct(i===Ft?"fulfilled":"rejected",e),0!==t.length){for(var n,o,r=e._result,a=0;a<t.length;a+=3)n=t[a],o=t[a+i],n?E(i,n,o,r):o(r);e._subscribers.length=0}}function P(){this.error=null}function C(e,t){try{return e(t)}catch(i){return Mt.error=i,Mt}}function E(e,t,i,n){var r,a,s,l,c=o(i);if(c){if(r=C(i,n),r===Mt?(l=!0,a=r.error,r=null):s=!0,t===r)return void w(t,u())}else r=n,s=!0;t._state!==Et||(c&&s?b(t,r):l?w(t,a):e===Ft?T(t,r):e===Dt&&w(t,r))}function F(e,t){var i=!1;try{t(function(t){i||(i=!0,b(e,t))},function(t){i||(i=!0,w(e,t))})}catch(n){w(e,n)}}function D(e,t,i){return e===Ft?{state:"fulfilled",value:i}:{state:"rejected",reason:i}}function O(e,t,i,n){this._instanceConstructor=e,this.promise=new e(d,n),this._abortOnReject=i,this._validateInput(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._init(),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&T(this.promise,this._result))):w(this.promise,this._validationError())}function M(e,t){return new At(this,e,!0,t).promise}function A(e,t){function i(e){b(r,e)}function n(e){w(r,e)}var o=this,r=new o(d,t);if(!St(e))return w(r,new TypeError("You must pass an array to race.")),r;for(var a=e.length,s=0;r._state===Et&&a>s;s++)x(o.resolve(e[s]),void 0,i,n);return r}function _(e,t){var i=this;if(e&&"object"==typeof e&&e.constructor===i)return e;var n=new i(d,t);return b(n,e),n}function I(e,t){var i=this,n=new i(d,t);return w(n,e),n}function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function L(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(e,t){this._id=Nt++,this._label=t,this._state=void 0,this._result=void 0,this._subscribers=[],kt.instrument&&Ct("created",this),d!==e&&(o(e)||z(),this instanceof B||L(),F(this,e))}function N(e,t,i){this._superConstructor(e,t,!1,i)}function R(e,t){return new N(Rt,e,t).promise}function V(e,t){return Rt.all(e,t)}function H(e,t){Yt[Ut]=e,Yt[Ut+1]=t,Ut+=2,2===Ut&&Ht()}function j(){var e=i.nextTick,t=i.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=setImmediate),function(){e(q)}}function W(){return function(){Vt(q)}}function U(){var e=0,t=new Jt(q),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}function $(){var e=new MessageChannel;return e.port1.onmessage=q,function(){e.port2.postMessage(0)}}function G(){return function(){setTimeout(q,1)}}function q(){for(var e=0;Ut>e;e+=2){var t=Yt[e],i=Yt[e+1];t(i),Yt[e]=void 0,Yt[e+1]=void 0}Ut=0}function J(){try{var t=e,i=t("vertx");return Vt=i.runOnLoop||i.runOnContext,W()}catch(n){return G()}}function X(e){var t={};return t.promise=new Rt(function(e,i){t.resolve=e,t.reject=i},e),t}function K(e,t,i){return Rt.all(e,i).then(function(e){if(!o(t))throw new TypeError("You must pass a function as filter's second argument.");for(var n=e.length,r=new Array(n),a=0;n>a;a++)r[a]=t(e[a]);return Rt.all(r,i).then(function(t){for(var i=new Array(n),o=0,r=0;n>r;r++)t[r]&&(i[o]=e[r],o++);return i.length=o,i})})}function Y(e,t,i){this._superConstructor(e,t,!0,i)}function Z(e,t,i){this._superConstructor(e,t,!1,i)}function Q(e,t){return new Z(Rt,e,t).promise}function et(e,t){return new ei(Rt,e,t).promise}function tt(e,t,i){return Rt.all(e,i).then(function(e){if(!o(t))throw new TypeError("You must pass a function as map's second argument.");for(var n=e.length,r=new Array(n),a=0;n>a;a++)r[a]=t(e[a]);return Rt.all(r,i)})}function it(){this.value=void 0}function nt(e){try{return e.then}catch(t){return oi.value=t,oi}}function ot(e,t,i){try{e.apply(t,i)}catch(n){return oi.value=n,oi}}function rt(e,t){for(var i,n,o={},r=e.length,a=new Array(r),s=0;r>s;s++)a[s]=e[s];for(n=0;n<t.length;n++)i=t[n],o[i]=a[n+1];return o}function at(e){for(var t=e.length,i=new Array(t-1),n=1;t>n;n++)i[n-1]=e[n];return i}function st(e,t){return{then:function(i,n){return e.call(t,i,n)}}}function lt(e,t){var i=function(){for(var i,n=this,o=arguments.length,r=new Array(o+1),a=!1,s=0;o>s;++s){if(i=arguments[s],!a){if(a=ht(i),a===ri){var l=new Rt(d);return w(l,ri.value),l}a&&a!==!0&&(i=st(a,i))}r[s]=i}var c=new Rt(d);return r[o]=function(e,i){e?w(c,e):void 0===t?b(c,i):t===!0?b(c,at(arguments)):St(t)?b(c,rt(arguments,t)):b(c,i)},a?pt(c,r,e,n):ct(c,r,e,n)};return i.__proto__=e,i}function ct(e,t,i,n){var o=ot(i,n,t);return o===oi&&w(e,o.value),e}function pt(e,t,i,n){return Rt.all(t).then(function(t){var o=ot(i,n,t);return o===oi&&w(e,o.value),e})}function ht(e){return e&&"object"==typeof e?e.constructor===Rt?!0:nt(e):!1}function ut(e,t){return Rt.race(e,t)}function dt(e,t){return Rt.reject(e,t)}function gt(e,t){return Rt.resolve(e,t)}function ft(e){throw setTimeout(function(){throw e}),e}function mt(e,t){kt.async(e,t)}function yt(){kt.on.apply(kt,arguments)}function vt(){kt.off.apply(kt,arguments)}var bt;bt=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var St=bt,Tt=Date.now||function(){return(new Date).getTime()},wt=Object.create||function(e){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof e)throw new TypeError("Argument must be an object");return a.prototype=e,new a},xt={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=void 0,e},on:function(e,t){var i,n=l(this);i=n[e],i||(i=n[e]=[]),-1===s(i,t)&&i.push(t)},off:function(e,t){var i,n,o=l(this);return t?(i=o[e],n=s(i,t),void(-1!==n&&i.splice(n,1))):void(o[e]=[])},trigger:function(e,t){var i,n,o=l(this);if(i=o[e])for(var r=0;r<i.length;r++)(n=i[r])(t)}},kt={instrument:!1};xt.mixin(kt);var Pt=[],Ct=h,Et=void 0,Ft=1,Dt=2,Ot=new P,Mt=new P,At=O;O.prototype._validateInput=function(e){return St(e)},O.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},O.prototype._init=function(){this._result=new Array(this.length)},O.prototype._enumerate=function(){for(var e=this.length,t=this.promise,i=this._input,n=0;t._state===Et&&e>n;n++)this._eachEntry(i[n],n)},O.prototype._eachEntry=function(e,t){var i=this._instanceConstructor;r(e)?e.constructor===i&&e._state!==Et?(e._onError=null,this._settledAt(e._state,t,e._result)):this._willSettleAt(i.resolve(e),t):(this._remaining--,this._result[t]=this._makeResult(Ft,t,e))},O.prototype._settledAt=function(e,t,i){var n=this.promise;n._state===Et&&(this._remaining--,this._abortOnReject&&e===Dt?w(n,i):this._result[t]=this._makeResult(e,t,i)),0===this._remaining&&T(n,this._result)},O.prototype._makeResult=function(e,t,i){return i},O.prototype._willSettleAt=function(e,t){var i=this;x(e,void 0,function(e){i._settledAt(Ft,t,e)},function(e){i._settledAt(Dt,t,e)})};var _t=M,It=A,zt=_,Lt=I,Bt="rsvp_"+Tt()+"-",Nt=0,Rt=B;B.cast=zt,B.all=_t,B.race=It,B.resolve=zt,B.reject=Lt,B.prototype={constructor:B,_guidKey:Bt,_onError:function(e){kt.async(function(t){setTimeout(function(){t._onError&&kt.trigger("error",e)},0)},this)},then:function(e,t,i){var n=this,o=n._state;if(o===Ft&&!e||o===Dt&&!t)return kt.instrument&&Ct("chained",this,this),this;n._onError=null;var r=new this.constructor(d,i),a=n._result;if(kt.instrument&&Ct("chained",n,r),o){var s=arguments[o-1];kt.async(function(){E(o,r,s,a)})}else x(n,r,e,t);return r},"catch":function(e,t){return this.then(null,e,t)},"finally":function(e,t){var i=this.constructor;return this.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){throw t})},t)}},N.prototype=wt(At.prototype),N.prototype._superConstructor=At,N.prototype._makeResult=D,N.prototype._validationError=function(){return new Error("allSettled must be called with an array")};var Vt,Ht,jt=R,Wt=V,Ut=0,$t=({}.toString,H),Gt="undefined"!=typeof window?window:void 0,qt=Gt||{},Jt=qt.MutationObserver||qt.WebKitMutationObserver,Xt="undefined"!=typeof i&&"[object process]"==={}.toString.call(i),Kt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Yt=new Array(1e3);Ht=Xt?j():Jt?U():Kt?$():void 0===Gt&&"function"==typeof e?J():G();var Zt=X,Qt=K,ei=Y;Y.prototype=wt(At.prototype),Y.prototype._superConstructor=At,Y.prototype._init=function(){this._result={}},Y.prototype._validateInput=function(e){return e&&"object"==typeof e},Y.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},Y.prototype._enumerate=function(){var e=this.promise,t=this._input,i=[];for(var n in t)e._state===Et&&Object.prototype.hasOwnProperty.call(t,n)&&i.push({position:n,entry:t[n]});var o=i.length;this._remaining=o;for(var r,a=0;e._state===Et&&o>a;a++)r=i[a],this._eachEntry(r.entry,r.position)},Z.prototype=wt(ei.prototype),Z.prototype._superConstructor=At,Z.prototype._makeResult=D,Z.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};var ti=Q,ii=et,ni=tt,oi=new it,ri=new it,ai=lt,si=ut,li=dt,ci=gt,pi=ft;kt.async=$t;if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var hi=window.__PROMISE_INSTRUMENTATION__;c("instrument",!0);for(var ui in hi)hi.hasOwnProperty(ui)&&yt(ui,hi[ui])}var di={race:si,Promise:Rt,allSettled:jt,hash:ii,hashSettled:ti,denodeify:ai,on:yt,off:vt,map:ni,filter:Qt,resolve:ci,reject:li,all:Wt,rethrow:pi,defer:Zt,EventTarget:xt,configure:c,async:mt};"function"==typeof define&&define.amd?define(function(){return di}):"undefined"!=typeof t&&t.exports?t.exports=di:"undefined"!=typeof this&&(this.RSVP=di)}).call(this)}).call(this,e("_process"))},{_process:45}],45:[function(e,t){function i(){}var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.MutationObserver,i="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var n=[];if(t){var o=document.createElement("div"),r=new MutationObserver(function(){var e=n.slice();n.length=0,e.forEach(function(e){e()})});return r.observe(o,{attributes:!0}),function(e){n.length||o.setAttribute("yes","no"),n.push(e)}}return i?(window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var i=n.shift();i()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=i,n.addListener=i,n.once=i,n.off=i,n.removeListener=i,n.removeAllListeners=i,n.emit=i,n.binding=function(){throw new Error("process.binding is not supported")
},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}]},{},[28]);